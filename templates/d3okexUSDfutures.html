

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src= "https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <link rel ="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <title> Open Interest </title>

    <!--
    <ul>
        <li><a id = "oi" href="/d3bitmex">Open Interest</a></li>
        <li><a href="/d3bitmexliquidations">Liquidations</a></li>
        <li><a href="/d3Prices">Prices</a></li>
        <li><a href="/d3Volume">Volume</a></li>
      </ul>

  </head>
  <body>
 
    <a id = "bitmex" href = "/d3bitmex"> bitmex </a>
    <a id = "binance" href = "/d3binance"> binance </a>
    <a id = "bybit" href = "/d3bybit"> bybit </a>
    <a id = "ftx" href = "/d3ftx"> FTX </a>
    <a id = "huobi" href = "/d3huobi"> huobi </a>
    <a id = "okex" href = "/d3okexUSDswap"> okex </a>
    <a id = "deribit" href = "/d3deribit"> deribit </a>

  -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white py-3 shadow-sm">
    <div class="container">
      <a href="/d3bitmex" class="navbar-brand font-weight-bold">Data Visualization</a>
      <button type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbars" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler">
                <span class="navbar-toggler-icon"></span>
            </button>
  
  
      <div id="navbarContent" class="collapse navbar-collapse">
        <ul class="navbar-nav mr-auto">
          <!-- Level one dropdown -->
          <li class="nav-item dropdown">
            <a id="dropdownMenu1" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle">Open Interest</a>
            <ul aria-labelledby="dropdownMenu1" class="dropdown-menu border-0 shadow">
              <li><a href="/d3bitmex" class="dropdown-item">Bitmex </a></li>
              <li><a href="/d3binance" class="dropdown-item">Binance</a></li>
              <li><a href="/d3bybit" class="dropdown-item">Bybit</a></li>
              <li><a href="/d3ftx" class="dropdown-item">FTX</a></li>
              <li><a href="/d3huobi" class="dropdown-item">Huobi</a></li>
              <li><a href="/d3deribit" class="dropdown-item">Deribit</a></li>
  
              <li class="dropdown-divider"></li>
  
              <!-- Level two dropdown-->
              <li class="dropdown-submenu">
                <a id="dropdownMenu2" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-item dropdown-toggle">Okex</a>
                <ul aria-labelledby="dropdownMenu2" class="dropdown-menu border-0 shadow">
                  <li>
                    <a tabindex="-1" href="/d3okexUSDswap" class="dropdown-item">Coin Margined Swap</a>
                  </li>
  
               
  
                  <li><a href="/d3okexUSDTswap" class="dropdown-item">USDT Margined Swap</a></li>
                  <li><a href="/d3okexUSDfutures" class="dropdown-item">Coin Margined Futures</a></li>
                  <li><a href="/d3okexUSDTfutures" class="dropdown-item">USDT Margined Futures</a></li>
                </ul>
              </li>
              <!-- End Level two -->
              
              
            </ul>
          </li>

          <li class="nav-item dropdown">
            <a id="dropdownMenu5" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle"> Aggregative Open Interest</a>
                     <ul aria-labelledby="dropdownMenu5" class="dropdown-menu border-0 shadow">
                        <li><a href="/d3btc-oi" class="dropdown-item">BTC </a></li>
                        <li><a href="/d3eth-oi" class="dropdown-item">ETH</a></li>
                        <li><a href="/d3xrp-oi" class="dropdown-item">XRP</a></li>
                        <li><a href="/d3bch-oi" class="dropdown-item">BCH</a></li>
                        <li><a href="/d3bsv-oi" class="dropdown-item">BSV</a></li>
                        <li><a href="/d3ltc-oi" class="dropdown-item">LTC</a></li>
                        <li><a href="/d3bnb-oi" class="dropdown-item">BNB</a></li>
                        <li><a href="/d3trx-oi" class="dropdown-item">TRX</a></li>
                        <li><a href="/d3eos-oi" class="dropdown-item">EOS</a></li>
                       <!-- <li><a href="/d3ftxliquidations" class="dropdown-item">FTX</a></li>-->
                       
                       <!-- End Level two -->
                       
                       
                     </ul>
                     </li>
          <!-- End Level one -->
                  <li class="nav-item dropdown">
   <a id="dropdownMenu3" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle">Liquidations</a>
            <ul aria-labelledby="dropdownMenu3" class="dropdown-menu border-0 shadow">
              <li><a href="/d3bitmexliquidations" class="dropdown-item">Bitmex </a></li>
              <li><a href="/d3binanceliquidations" class="dropdown-item">Binance</a></li>
              <li><a href="/d3okexliquidations" class="dropdown-item">Okex</a></li>
              <li><a href="/d3ftxliquidations" class="dropdown-item">FTX</a></li>
              
              <!-- End Level two -->
              
              
            </ul>
            </li>
           
            <li class="nav-item dropdown">
   <a id="dropdownMenu4" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle">Volume</a>
            <ul aria-labelledby="dropdownMenu4" class="dropdown-menu border-0 shadow">
              <li><a href="/d3bitmexvolume" class="dropdown-item">Bitmex </a></li>
              
              <!-- End Level two -->
              
              
            </ul>
            </li>
         
          <li class="nav-item"><a href="/d3Prices" class="nav-link">Prices</a></li>

          <li class="nav-item"> <button> <a  id = "okex" class="nav-link">Refresh Okex</a></li> </button>
          
        </ul>
      </div>
    </div>
  </nav>
  <script>
      $(function() {
  // ------------------------------------------------------- //
  // Multi Level dropdowns
  // ------------------------------------------------------ //
  $("ul.dropdown-menu [data-toggle='dropdown']").on("click", function(event) {
    event.preventDefault();
    event.stopPropagation();

    $(this).siblings().toggleClass("show");


    if (!$(this).next().hasClass('show')) {
      $(this).parents('.dropdown-menu').first().find('.show').removeClass("show");
    }
    $(this).parents('li.nav-item.dropdown.show').on('hidden.bs.dropdown', function(e) {
      $('.dropdown-submenu .show').removeClass("show");
    });

  });
});
  </script>
  <style>
       ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}
li {
  display: inline;
}
        body {
          font: 14px sans-serif;
          position: absolute;
          margin-left:40px;
        }
        
        .bar{
            fill: grey;
            opacity: .8;
        }
         
        .axis path,
        .axis line {
          fill: none;
          stroke: #000;
          shape-rendering: crispEdges;
        }
        
        .line {
  fill: none;
  stroke: steelblue;
  stroke-width: 2px;
}

.axisSteelBlue text{
  fill: steelblue;
}

.axisRed text{
  fill: red;
}
        
        .tooltip {
          position: absolute;
          width: 200px;
          height: 28px;
          pointer-events: none;
        }

      .dropdown-submenu {
  position: relative;
}

.dropdown-submenu>a:after {
  content: "0da";
  float: right;
  border: none;
}

.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: 0px;
  margin-left: 0px;
}
  </style>

  <body>


<br> okex BTC-USD-200619 OI in USD (converted from contracts)
<button id = "1h" onclick="update12('1h')">  1 Hour </button>
    <button id = "2h" onclick="update12('2h')">  2 Hours </button>
    <button id = "12h" onclick="update12('12h')">  12 Hours </button>
    <button id = "1d" onclick="update12('1d')">  1 Day </button>
    <button id = "1d" onclick="update12('3d')">  3 Days </button>
    <label>
        <input id="check12" type="checkbox" > Coin Denominated
      </label>

    <br>
    <svg id = "svg12" width="890" height="450"></svg>

   <script> 

    $(function() {
          $('a#okex').bind('click', function() {
            $.getJSON('/refresh_binance',
                function(data) {
            });
            return false;
          });
        });

        $(function() {
          $('a#oi').bind('click', function() {
            $.getJSON('/refresh_oi',
            
                function(data) {
            });
            return false;
          });
        });

    const svg12 = d3.select('#svg12');

    const xValue = d => d.date;
      const xLabel = 'Time';
      const yValue = d => d.value;
      const yLabel = 'Open Interest';
      const margin = { left: 100, right: 100, top: 20, bottom: 140 };
      var parseTime = d3.timeParse("%Y-%m-%dT%H:%M:%S");
      const width = svg12.attr('width');
      const height = svg12.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      var y1 = d3.scaleLinear().range([innerHeight, 0]);
      var x = d3.scaleTime().range([0, innerWidth])

      var valueline2 = d3.line()
        .x(function(d) { return x(d.date); })
        .y(function(d) { return y1(d.price); });

              

    function update12(selectedVar){
        var isChecked = document.getElementById("check12").checked;
        svg12.selectAll("*").remove();


if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
            

            //d3.selectAll('svg2 > *').remove();


      const g12 = svg12.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g12.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g12.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };



        d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BTC-USD-200619-open-interest-price.csv", function(error, data) {
      if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 

      // Add the valueline2 path.
      svg12.append("path")
          .data([data])
          .attr("class", "line")
          .attr("id", "redLine12")
          .style("stroke", "red")
          .attr("d", valueline2)
          .attr("transform", "translate( 100" + ", 20 )");
    
    
      // Add the Y1 Axis
      svg12.append("g")
          .attr("class", "axisRed")
          .attr("transform", "translate( " + tempWidth + ", 20 )")
          .attr("id", "redAxis12")
          .call(d3.axisRight(y1));
    
    });
    

  // add the red line legend
  svg12.append("text")
     .attr("x", innerWidth + 40)             
     .attr("y", margin.top - 10)    
     .attr("class", "legend")
     .style("fill", "red")         
     .on("click", function(){
       // determine if current line is visible
       var active   = redLine12.active ? false : true,
       newOpacity = active ? 0 : 1;
       // hide or show the elements
       d3.select("#redLine12").style("opacity", newOpacity);
       d3.select("#redAxis12").style("opacity", newOpacity);
       // update whether or not the elements are active
       redLine12.active = active;
     })
     .text("Price Line");



        d3.csv('/static/js/open-interest/okex-' + selectedVar + '-BTC-USD-200619-open-interest-' +file_name+ '.csv', row, data => {
           xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g12.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
      update12('2h');
    </script>
    
<br> okex BTC-USD-200626OI in USD (converted from contracts)
<button id = "1h" onclick="update13('1h')">  1 Hour </button>
    <button id = "2h" onclick="update13('2h')">  2 Hours </button>
    <button id = "12h" onclick="update13('12h')">  12 Hours </button>
    <button id = "1d" onclick="update13('1d')">  1 Day </button>
    <button id = "1d" onclick="update13('3d')">  3 Days </button>
    <label>
        <input id="check13" type="checkbox" > Coin Denominated
      </label>
    <br>
    <svg id = "svg13" width="890" height="450"></svg>

   <script> 


    const svg13 = d3.select('#svg13');

   

    function update13(selectedVar){
        var isChecked = document.getElementById("check13").checked;


if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
            const width = svg13.attr('width');
      const height = svg13.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;
      
      svg13.selectAll("*").remove();

            //d3.selectAll('svg2 > *').remove();


      const g13 = svg13.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g13.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g13.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
            d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BTC-USD-200626-open-interest-price.csv", function(error, data) {
      if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 

      // Add the valueline2 path.
      svg13.append("path")
          .data([data])
          .attr("class", "line")
          .attr("id", "redLine13")
          .style("stroke", "red")
          .attr("d", valueline2)
          .attr("transform", "translate( 100" + ", 20 )");
    
    
      // Add the Y1 Axis
      svg13.append("g")
          .attr("class", "axisRed")
          .attr("transform", "translate( " + tempWidth + ", 20 )")
          .attr("id", "redAxis13")
          .call(d3.axisRight(y1));
    
    });
    

  // add the red line legend
  svg13.append("text")
     .attr("x", innerWidth + 40)             
     .attr("y", margin.top - 10)    
     .attr("class", "legend")
     .style("fill", "red")         
     .on("click", function(){
       // determine if current line is visible
       var active   = redLine13.active ? false : true,
       newOpacity = active ? 0 : 1;
       // hide or show the elements
       d3.select("#redLine13").style("opacity", newOpacity);
       d3.select("#redAxis13").style("opacity", newOpacity);
       // update whether or not the elements are active
       redLine13.active = active;
     })
     .text("Price Line");


        d3.csv('/static/js/open-interest/okex-' + selectedVar + '-BTC-USD-200626-open-interest-' +file_name+ '.csv', row, data => {
           xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g13.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
            update13('2h');

    </script>

    <br> okex BTC-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update0('1h')"> 1 Hour </button><button id = "2h" onclick="update0('2h')"> 2 Hours </button><button id = "12h" onclick="update0('12h')"> 12 Hours </button><button id = "1d" onclick="update0('1d')"> 1 Day </button><button id = "3d" onclick="update0('3d')"> 3 Days </button> <label> <input id = "check0" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg0" width = "890" height = "450"> </svg> <script> const svg0 = d3.select("#svg0");function update0(selectedVar){var isChecked = document.getElementById("check0").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg0.attr('width'); 
const height = svg0.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg0.selectAll("*").remove(); 
const g0= svg0.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g0.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g0.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BTC-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg0.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine0")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg0.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis0")
                        .call(d3.axisRight(y1)); });
                    svg0.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine0.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine0").style("opacity", newOpacity); 
                        d3.select("#redAxis0").style("opacity", newOpacity);
                        redLine0.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BTC-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g0.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update0('2h');</script><br> okex BTC-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update1('1h')"> 1 Hour </button><button id = "2h" onclick="update1('2h')"> 2 Hours </button><button id = "12h" onclick="update1('12h')"> 12 Hours </button><button id = "1d" onclick="update1('1d')"> 1 Day </button><button id = "3d" onclick="update1('3d')"> 3 Days </button> <label> <input id = "check1" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg1" width = "890" height = "450"> </svg> <script> const svg1 = d3.select("#svg1");function update1(selectedVar){var isChecked = document.getElementById("check1").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg1.attr('width'); 
const height = svg1.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg1.selectAll("*").remove(); 
const g1= svg1.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g1.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g1.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BTC-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg1.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine1")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg1.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis1")
                        .call(d3.axisRight(y1)); });
                    svg1.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine1.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine1").style("opacity", newOpacity); 
                        d3.select("#redAxis1").style("opacity", newOpacity);
                        redLine1.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BTC-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g1.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update1('2h');</script><br> okex LTC-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update2('1h')"> 1 Hour </button><button id = "2h" onclick="update2('2h')"> 2 Hours </button><button id = "12h" onclick="update2('12h')"> 12 Hours </button><button id = "1d" onclick="update2('1d')"> 1 Day </button><button id = "3d" onclick="update2('3d')"> 3 Days </button> <label> <input id = "check2" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg2" width = "890" height = "450"> </svg> <script> const svg2 = d3.select("#svg2");function update2(selectedVar){var isChecked = document.getElementById("check2").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg2.attr('width'); 
const height = svg2.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg2.selectAll("*").remove(); 
const g2= svg2.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g2.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g2.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-LTC-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg2.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine2")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg2.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis2")
                        .call(d3.axisRight(y1)); });
                    svg2.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine2.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine2").style("opacity", newOpacity); 
                        d3.select("#redAxis2").style("opacity", newOpacity);
                        redLine2.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-LTC-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g2.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update2('2h');</script><br> okex LTC-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update3('1h')"> 1 Hour </button><button id = "2h" onclick="update3('2h')"> 2 Hours </button><button id = "12h" onclick="update3('12h')"> 12 Hours </button><button id = "1d" onclick="update3('1d')"> 1 Day </button><button id = "3d" onclick="update3('3d')"> 3 Days </button> <label> <input id = "check3" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg3" width = "890" height = "450"> </svg> <script> const svg3 = d3.select("#svg3");function update3(selectedVar){var isChecked = document.getElementById("check3").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg3.attr('width'); 
const height = svg3.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg3.selectAll("*").remove(); 
const g3= svg3.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g3.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g3.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-LTC-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg3.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine3")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg3.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis3")
                        .call(d3.axisRight(y1)); });
                    svg3.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine3.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine3").style("opacity", newOpacity); 
                        d3.select("#redAxis3").style("opacity", newOpacity);
                        redLine3.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-LTC-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g3.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update3('2h');</script><br> okex LTC-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update4('1h')"> 1 Hour </button><button id = "2h" onclick="update4('2h')"> 2 Hours </button><button id = "12h" onclick="update4('12h')"> 12 Hours </button><button id = "1d" onclick="update4('1d')"> 1 Day </button><button id = "3d" onclick="update4('3d')"> 3 Days </button> <label> <input id = "check4" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg4" width = "890" height = "450"> </svg> <script> const svg4 = d3.select("#svg4");function update4(selectedVar){var isChecked = document.getElementById("check4").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg4.attr('width'); 
const height = svg4.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg4.selectAll("*").remove(); 
const g4= svg4.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g4.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g4.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-LTC-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg4.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine4")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg4.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis4")
                        .call(d3.axisRight(y1)); });
                    svg4.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine4.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine4").style("opacity", newOpacity); 
                        d3.select("#redAxis4").style("opacity", newOpacity);
                        redLine4.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-LTC-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g4.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update4('2h');</script><br> okex LTC-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update5('1h')"> 1 Hour </button><button id = "2h" onclick="update5('2h')"> 2 Hours </button><button id = "12h" onclick="update5('12h')"> 12 Hours </button><button id = "1d" onclick="update5('1d')"> 1 Day </button><button id = "3d" onclick="update5('3d')"> 3 Days </button> <label> <input id = "check5" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg5" width = "890" height = "450"> </svg> <script> const svg5 = d3.select("#svg5");function update5(selectedVar){var isChecked = document.getElementById("check5").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg5.attr('width'); 
const height = svg5.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg5.selectAll("*").remove(); 
const g5= svg5.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g5.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g5.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-LTC-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg5.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine5")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg5.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis5")
                        .call(d3.axisRight(y1)); });
                    svg5.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine5.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine5").style("opacity", newOpacity); 
                        d3.select("#redAxis5").style("opacity", newOpacity);
                        redLine5.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-LTC-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g5.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update5('2h');</script><br> okex ETH-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update6('1h')"> 1 Hour </button><button id = "2h" onclick="update6('2h')"> 2 Hours </button><button id = "12h" onclick="update6('12h')"> 12 Hours </button><button id = "1d" onclick="update6('1d')"> 1 Day </button><button id = "3d" onclick="update6('3d')"> 3 Days </button> <label> <input id = "check6" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg6" width = "890" height = "450"> </svg> <script> const svg6 = d3.select("#svg6");function update6(selectedVar){var isChecked = document.getElementById("check6").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg6.attr('width'); 
const height = svg6.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg6.selectAll("*").remove(); 
const g6= svg6.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g6.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g6.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ETH-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg6.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine6")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg6.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis6")
                        .call(d3.axisRight(y1)); });
                    svg6.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine6.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine6").style("opacity", newOpacity); 
                        d3.select("#redAxis6").style("opacity", newOpacity);
                        redLine6.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ETH-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g6.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update6('2h');</script><br> okex ETH-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update7('1h')"> 1 Hour </button><button id = "2h" onclick="update7('2h')"> 2 Hours </button><button id = "12h" onclick="update7('12h')"> 12 Hours </button><button id = "1d" onclick="update7('1d')"> 1 Day </button><button id = "3d" onclick="update7('3d')"> 3 Days </button> <label> <input id = "check7" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg7" width = "890" height = "450"> </svg> <script> const svg7 = d3.select("#svg7");function update7(selectedVar){var isChecked = document.getElementById("check7").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg7.attr('width'); 
const height = svg7.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg7.selectAll("*").remove(); 
const g7= svg7.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g7.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g7.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ETH-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg7.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine7")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg7.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis7")
                        .call(d3.axisRight(y1)); });
                    svg7.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine7.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine7").style("opacity", newOpacity); 
                        d3.select("#redAxis7").style("opacity", newOpacity);
                        redLine7.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ETH-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g7.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update7('2h');</script><br> okex ETH-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update8('1h')"> 1 Hour </button><button id = "2h" onclick="update8('2h')"> 2 Hours </button><button id = "12h" onclick="update8('12h')"> 12 Hours </button><button id = "1d" onclick="update8('1d')"> 1 Day </button><button id = "3d" onclick="update8('3d')"> 3 Days </button> <label> <input id = "check8" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg8" width = "890" height = "450"> </svg> <script> const svg8 = d3.select("#svg8");function update8(selectedVar){var isChecked = document.getElementById("check8").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg8.attr('width'); 
const height = svg8.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg8.selectAll("*").remove(); 
const g8= svg8.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g8.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g8.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ETH-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg8.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine8")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg8.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis8")
                        .call(d3.axisRight(y1)); });
                    svg8.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine8.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine8").style("opacity", newOpacity); 
                        d3.select("#redAxis8").style("opacity", newOpacity);
                        redLine8.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ETH-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g8.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update8('2h');</script><br> okex ETH-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update9('1h')"> 1 Hour </button><button id = "2h" onclick="update9('2h')"> 2 Hours </button><button id = "12h" onclick="update9('12h')"> 12 Hours </button><button id = "1d" onclick="update9('1d')"> 1 Day </button><button id = "3d" onclick="update9('3d')"> 3 Days </button> <label> <input id = "check9" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg9" width = "890" height = "450"> </svg> <script> const svg9 = d3.select("#svg9");function update9(selectedVar){var isChecked = document.getElementById("check9").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg9.attr('width'); 
const height = svg9.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg9.selectAll("*").remove(); 
const g9= svg9.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g9.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g9.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ETH-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg9.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine9")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg9.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis9")
                        .call(d3.axisRight(y1)); });
                    svg9.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine9.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine9").style("opacity", newOpacity); 
                        d3.select("#redAxis9").style("opacity", newOpacity);
                        redLine9.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ETH-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g9.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update9('2h');</script><br> okex ETC-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update10('1h')"> 1 Hour </button><button id = "2h" onclick="update10('2h')"> 2 Hours </button><button id = "12h" onclick="update10('12h')"> 12 Hours </button><button id = "1d" onclick="update10('1d')"> 1 Day </button><button id = "3d" onclick="update10('3d')"> 3 Days </button> <label> <input id = "check10" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg10" width = "890" height = "450"> </svg> <script> const svg10 = d3.select("#svg10");function update10(selectedVar){var isChecked = document.getElementById("check10").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg10.attr('width'); 
const height = svg10.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg10.selectAll("*").remove(); 
const g10= svg10.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g10.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g10.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ETC-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg10.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine10")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg10.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis10")
                        .call(d3.axisRight(y1)); });
                    svg10.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine10.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine10").style("opacity", newOpacity); 
                        d3.select("#redAxis10").style("opacity", newOpacity);
                        redLine10.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ETC-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g10.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update10('2h');</script><br> okex ETC-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update11('1h')"> 1 Hour </button><button id = "2h" onclick="update11('2h')"> 2 Hours </button><button id = "12h" onclick="update11('12h')"> 12 Hours </button><button id = "1d" onclick="update11('1d')"> 1 Day </button><button id = "3d" onclick="update11('3d')"> 3 Days </button> <label> <input id = "check11" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg11" width = "890" height = "450"> </svg> <script> const svg11 = d3.select("#svg11");function update11(selectedVar){var isChecked = document.getElementById("check11").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg11.attr('width'); 
const height = svg11.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg11.selectAll("*").remove(); 
const g11= svg11.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g11.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g11.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ETC-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg11.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine11")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg11.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis11")
                        .call(d3.axisRight(y1)); });
                    svg11.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine11.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine11").style("opacity", newOpacity); 
                        d3.select("#redAxis11").style("opacity", newOpacity);
                        redLine11.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ETC-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g11.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update11('2h');</script><br> okex ETC-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update14('1h')"> 1 Hour </button><button id = "2h" onclick="update14('2h')"> 2 Hours </button><button id = "12h" onclick="update14('12h')"> 12 Hours </button><button id = "1d" onclick="update14('1d')"> 1 Day </button><button id = "3d" onclick="update14('3d')"> 3 Days </button> <label> <input id = "check14" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg14" width = "890" height = "450"> </svg> <script> const svg14 = d3.select("#svg14");function update14(selectedVar){var isChecked = document.getElementById("check14").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg14.attr('width'); 
const height = svg14.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg14.selectAll("*").remove(); 
const g14= svg14.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g14.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g14.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ETC-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg14.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine14")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg14.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis14")
                        .call(d3.axisRight(y1)); });
                    svg14.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine14.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine14").style("opacity", newOpacity); 
                        d3.select("#redAxis14").style("opacity", newOpacity);
                        redLine14.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ETC-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g14.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update14('2h');</script><br> okex ETC-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update15('1h')"> 1 Hour </button><button id = "2h" onclick="update15('2h')"> 2 Hours </button><button id = "12h" onclick="update15('12h')"> 12 Hours </button><button id = "1d" onclick="update15('1d')"> 1 Day </button><button id = "3d" onclick="update15('3d')"> 3 Days </button> <label> <input id = "check15" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg15" width = "890" height = "450"> </svg> <script> const svg15 = d3.select("#svg15");function update15(selectedVar){var isChecked = document.getElementById("check15").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg15.attr('width'); 
const height = svg15.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg15.selectAll("*").remove(); 
const g15= svg15.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g15.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g15.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ETC-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg15.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine15")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg15.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis15")
                        .call(d3.axisRight(y1)); });
                    svg15.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine15.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine15").style("opacity", newOpacity); 
                        d3.select("#redAxis15").style("opacity", newOpacity);
                        redLine15.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ETC-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g15.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update15('2h');</script><br> okex XRP-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update16('1h')"> 1 Hour </button><button id = "2h" onclick="update16('2h')"> 2 Hours </button><button id = "12h" onclick="update16('12h')"> 12 Hours </button><button id = "1d" onclick="update16('1d')"> 1 Day </button><button id = "3d" onclick="update16('3d')"> 3 Days </button> <label> <input id = "check16" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg16" width = "890" height = "450"> </svg> <script> const svg16 = d3.select("#svg16");function update16(selectedVar){var isChecked = document.getElementById("check16").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg16.attr('width'); 
const height = svg16.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg16.selectAll("*").remove(); 
const g16= svg16.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g16.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g16.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-XRP-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg16.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine16")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg16.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis16")
                        .call(d3.axisRight(y1)); });
                    svg16.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine16.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine16").style("opacity", newOpacity); 
                        d3.select("#redAxis16").style("opacity", newOpacity);
                        redLine16.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-XRP-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g16.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update16('2h');</script><br> okex XRP-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update17('1h')"> 1 Hour </button><button id = "2h" onclick="update17('2h')"> 2 Hours </button><button id = "12h" onclick="update17('12h')"> 12 Hours </button><button id = "1d" onclick="update17('1d')"> 1 Day </button><button id = "3d" onclick="update17('3d')"> 3 Days </button> <label> <input id = "check17" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg17" width = "890" height = "450"> </svg> <script> const svg17 = d3.select("#svg17");function update17(selectedVar){var isChecked = document.getElementById("check17").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg17.attr('width'); 
const height = svg17.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg17.selectAll("*").remove(); 
const g17= svg17.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g17.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g17.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-XRP-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg17.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine17")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg17.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis17")
                        .call(d3.axisRight(y1)); });
                    svg17.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine17.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine17").style("opacity", newOpacity); 
                        d3.select("#redAxis17").style("opacity", newOpacity);
                        redLine17.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-XRP-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g17.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update17('2h');</script><br> okex XRP-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update18('1h')"> 1 Hour </button><button id = "2h" onclick="update18('2h')"> 2 Hours </button><button id = "12h" onclick="update18('12h')"> 12 Hours </button><button id = "1d" onclick="update18('1d')"> 1 Day </button><button id = "3d" onclick="update18('3d')"> 3 Days </button> <label> <input id = "check18" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg18" width = "890" height = "450"> </svg> <script> const svg18 = d3.select("#svg18");function update18(selectedVar){var isChecked = document.getElementById("check18").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg18.attr('width'); 
const height = svg18.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg18.selectAll("*").remove(); 
const g18= svg18.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g18.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g18.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-XRP-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg18.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine18")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg18.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis18")
                        .call(d3.axisRight(y1)); });
                    svg18.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine18.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine18").style("opacity", newOpacity); 
                        d3.select("#redAxis18").style("opacity", newOpacity);
                        redLine18.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-XRP-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g18.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update18('2h');</script><br> okex XRP-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update19('1h')"> 1 Hour </button><button id = "2h" onclick="update19('2h')"> 2 Hours </button><button id = "12h" onclick="update19('12h')"> 12 Hours </button><button id = "1d" onclick="update19('1d')"> 1 Day </button><button id = "3d" onclick="update19('3d')"> 3 Days </button> <label> <input id = "check19" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg19" width = "890" height = "450"> </svg> <script> const svg19 = d3.select("#svg19");function update19(selectedVar){var isChecked = document.getElementById("check19").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg19.attr('width'); 
const height = svg19.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg19.selectAll("*").remove(); 
const g19= svg19.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g19.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g19.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-XRP-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg19.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine19")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg19.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis19")
                        .call(d3.axisRight(y1)); });
                    svg19.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine19.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine19").style("opacity", newOpacity); 
                        d3.select("#redAxis19").style("opacity", newOpacity);
                        redLine19.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-XRP-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g19.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update19('2h');</script><br> okex EOS-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update20('1h')"> 1 Hour </button><button id = "2h" onclick="update20('2h')"> 2 Hours </button><button id = "12h" onclick="update20('12h')"> 12 Hours </button><button id = "1d" onclick="update20('1d')"> 1 Day </button><button id = "3d" onclick="update20('3d')"> 3 Days </button> <label> <input id = "check20" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg20" width = "890" height = "450"> </svg> <script> const svg20 = d3.select("#svg20");function update20(selectedVar){var isChecked = document.getElementById("check20").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg20.attr('width'); 
const height = svg20.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg20.selectAll("*").remove(); 
const g20= svg20.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g20.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g20.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-EOS-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg20.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine20")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg20.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis20")
                        .call(d3.axisRight(y1)); });
                    svg20.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine20.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine20").style("opacity", newOpacity); 
                        d3.select("#redAxis20").style("opacity", newOpacity);
                        redLine20.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-EOS-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g20.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update20('2h');</script><br> okex EOS-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update21('1h')"> 1 Hour </button><button id = "2h" onclick="update21('2h')"> 2 Hours </button><button id = "12h" onclick="update21('12h')"> 12 Hours </button><button id = "1d" onclick="update21('1d')"> 1 Day </button><button id = "3d" onclick="update21('3d')"> 3 Days </button> <label> <input id = "check21" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg21" width = "890" height = "450"> </svg> <script> const svg21 = d3.select("#svg21");function update21(selectedVar){var isChecked = document.getElementById("check21").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg21.attr('width'); 
const height = svg21.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg21.selectAll("*").remove(); 
const g21= svg21.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g21.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g21.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-EOS-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg21.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine21")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg21.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis21")
                        .call(d3.axisRight(y1)); });
                    svg21.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine21.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine21").style("opacity", newOpacity); 
                        d3.select("#redAxis21").style("opacity", newOpacity);
                        redLine21.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-EOS-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g21.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update21('2h');</script><br> okex EOS-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update22('1h')"> 1 Hour </button><button id = "2h" onclick="update22('2h')"> 2 Hours </button><button id = "12h" onclick="update22('12h')"> 12 Hours </button><button id = "1d" onclick="update22('1d')"> 1 Day </button><button id = "3d" onclick="update22('3d')"> 3 Days </button> <label> <input id = "check22" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg22" width = "890" height = "450"> </svg> <script> const svg22 = d3.select("#svg22");function update22(selectedVar){var isChecked = document.getElementById("check22").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg22.attr('width'); 
const height = svg22.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg22.selectAll("*").remove(); 
const g22= svg22.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g22.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g22.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-EOS-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg22.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine22")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg22.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis22")
                        .call(d3.axisRight(y1)); });
                    svg22.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine22.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine22").style("opacity", newOpacity); 
                        d3.select("#redAxis22").style("opacity", newOpacity);
                        redLine22.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-EOS-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g22.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update22('2h');</script><br> okex EOS-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update23('1h')"> 1 Hour </button><button id = "2h" onclick="update23('2h')"> 2 Hours </button><button id = "12h" onclick="update23('12h')"> 12 Hours </button><button id = "1d" onclick="update23('1d')"> 1 Day </button><button id = "3d" onclick="update23('3d')"> 3 Days </button> <label> <input id = "check23" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg23" width = "890" height = "450"> </svg> <script> const svg23 = d3.select("#svg23");function update23(selectedVar){var isChecked = document.getElementById("check23").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg23.attr('width'); 
const height = svg23.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg23.selectAll("*").remove(); 
const g23= svg23.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g23.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g23.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-EOS-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg23.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine23")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg23.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis23")
                        .call(d3.axisRight(y1)); });
                    svg23.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine23.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine23").style("opacity", newOpacity); 
                        d3.select("#redAxis23").style("opacity", newOpacity);
                        redLine23.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-EOS-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g23.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update23('2h');</script><br> okex BCH-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update24('1h')"> 1 Hour </button><button id = "2h" onclick="update24('2h')"> 2 Hours </button><button id = "12h" onclick="update24('12h')"> 12 Hours </button><button id = "1d" onclick="update24('1d')"> 1 Day </button><button id = "3d" onclick="update24('3d')"> 3 Days </button> <label> <input id = "check24" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg24" width = "890" height = "450"> </svg> <script> const svg24 = d3.select("#svg24");function update24(selectedVar){var isChecked = document.getElementById("check24").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg24.attr('width'); 
const height = svg24.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg24.selectAll("*").remove(); 
const g24= svg24.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g24.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g24.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BCH-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg24.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine24")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg24.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis24")
                        .call(d3.axisRight(y1)); });
                    svg24.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine24.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine24").style("opacity", newOpacity); 
                        d3.select("#redAxis24").style("opacity", newOpacity);
                        redLine24.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BCH-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g24.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update24('2h');</script><br> okex BCH-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update25('1h')"> 1 Hour </button><button id = "2h" onclick="update25('2h')"> 2 Hours </button><button id = "12h" onclick="update25('12h')"> 12 Hours </button><button id = "1d" onclick="update25('1d')"> 1 Day </button><button id = "3d" onclick="update25('3d')"> 3 Days </button> <label> <input id = "check25" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg25" width = "890" height = "450"> </svg> <script> const svg25 = d3.select("#svg25");function update25(selectedVar){var isChecked = document.getElementById("check25").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg25.attr('width'); 
const height = svg25.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg25.selectAll("*").remove(); 
const g25= svg25.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g25.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g25.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BCH-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg25.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine25")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg25.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis25")
                        .call(d3.axisRight(y1)); });
                    svg25.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine25.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine25").style("opacity", newOpacity); 
                        d3.select("#redAxis25").style("opacity", newOpacity);
                        redLine25.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BCH-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g25.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update25('2h');</script><br> okex BCH-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update26('1h')"> 1 Hour </button><button id = "2h" onclick="update26('2h')"> 2 Hours </button><button id = "12h" onclick="update26('12h')"> 12 Hours </button><button id = "1d" onclick="update26('1d')"> 1 Day </button><button id = "3d" onclick="update26('3d')"> 3 Days </button> <label> <input id = "check26" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg26" width = "890" height = "450"> </svg> <script> const svg26 = d3.select("#svg26");function update26(selectedVar){var isChecked = document.getElementById("check26").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg26.attr('width'); 
const height = svg26.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg26.selectAll("*").remove(); 
const g26= svg26.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g26.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g26.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BCH-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg26.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine26")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg26.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis26")
                        .call(d3.axisRight(y1)); });
                    svg26.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine26.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine26").style("opacity", newOpacity); 
                        d3.select("#redAxis26").style("opacity", newOpacity);
                        redLine26.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BCH-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g26.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update26('2h');</script><br> okex BCH-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update27('1h')"> 1 Hour </button><button id = "2h" onclick="update27('2h')"> 2 Hours </button><button id = "12h" onclick="update27('12h')"> 12 Hours </button><button id = "1d" onclick="update27('1d')"> 1 Day </button><button id = "3d" onclick="update27('3d')"> 3 Days </button> <label> <input id = "check27" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg27" width = "890" height = "450"> </svg> <script> const svg27 = d3.select("#svg27");function update27(selectedVar){var isChecked = document.getElementById("check27").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg27.attr('width'); 
const height = svg27.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg27.selectAll("*").remove(); 
const g27= svg27.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g27.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g27.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BCH-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg27.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine27")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg27.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis27")
                        .call(d3.axisRight(y1)); });
                    svg27.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine27.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine27").style("opacity", newOpacity); 
                        d3.select("#redAxis27").style("opacity", newOpacity);
                        redLine27.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BCH-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g27.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update27('2h');</script><br> okex BSV-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update28('1h')"> 1 Hour </button><button id = "2h" onclick="update28('2h')"> 2 Hours </button><button id = "12h" onclick="update28('12h')"> 12 Hours </button><button id = "1d" onclick="update28('1d')"> 1 Day </button><button id = "3d" onclick="update28('3d')"> 3 Days </button> <label> <input id = "check28" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg28" width = "890" height = "450"> </svg> <script> const svg28 = d3.select("#svg28");function update28(selectedVar){var isChecked = document.getElementById("check28").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg28.attr('width'); 
const height = svg28.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg28.selectAll("*").remove(); 
const g28= svg28.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g28.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g28.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BSV-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg28.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine28")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg28.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis28")
                        .call(d3.axisRight(y1)); });
                    svg28.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine28.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine28").style("opacity", newOpacity); 
                        d3.select("#redAxis28").style("opacity", newOpacity);
                        redLine28.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BSV-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g28.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update28('2h');</script><br> okex BSV-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update29('1h')"> 1 Hour </button><button id = "2h" onclick="update29('2h')"> 2 Hours </button><button id = "12h" onclick="update29('12h')"> 12 Hours </button><button id = "1d" onclick="update29('1d')"> 1 Day </button><button id = "3d" onclick="update29('3d')"> 3 Days </button> <label> <input id = "check29" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg29" width = "890" height = "450"> </svg> <script> const svg29 = d3.select("#svg29");function update29(selectedVar){var isChecked = document.getElementById("check29").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg29.attr('width'); 
const height = svg29.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg29.selectAll("*").remove(); 
const g29= svg29.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g29.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g29.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BSV-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg29.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine29")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg29.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis29")
                        .call(d3.axisRight(y1)); });
                    svg29.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine29.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine29").style("opacity", newOpacity); 
                        d3.select("#redAxis29").style("opacity", newOpacity);
                        redLine29.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BSV-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g29.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update29('2h');</script><br> okex BSV-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update30('1h')"> 1 Hour </button><button id = "2h" onclick="update30('2h')"> 2 Hours </button><button id = "12h" onclick="update30('12h')"> 12 Hours </button><button id = "1d" onclick="update30('1d')"> 1 Day </button><button id = "3d" onclick="update30('3d')"> 3 Days </button> <label> <input id = "check30" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg30" width = "890" height = "450"> </svg> <script> const svg30 = d3.select("#svg30");function update30(selectedVar){var isChecked = document.getElementById("check30").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg30.attr('width'); 
const height = svg30.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg30.selectAll("*").remove(); 
const g30= svg30.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g30.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g30.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BSV-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg30.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine30")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg30.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis30")
                        .call(d3.axisRight(y1)); });
                    svg30.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine30.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine30").style("opacity", newOpacity); 
                        d3.select("#redAxis30").style("opacity", newOpacity);
                        redLine30.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BSV-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g30.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update30('2h');</script><br> okex BSV-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update31('1h')"> 1 Hour </button><button id = "2h" onclick="update31('2h')"> 2 Hours </button><button id = "12h" onclick="update31('12h')"> 12 Hours </button><button id = "1d" onclick="update31('1d')"> 1 Day </button><button id = "3d" onclick="update31('3d')"> 3 Days </button> <label> <input id = "check31" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg31" width = "890" height = "450"> </svg> <script> const svg31 = d3.select("#svg31");function update31(selectedVar){var isChecked = document.getElementById("check31").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg31.attr('width'); 
const height = svg31.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg31.selectAll("*").remove(); 
const g31= svg31.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g31.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g31.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-BSV-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg31.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine31")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg31.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis31")
                        .call(d3.axisRight(y1)); });
                    svg31.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine31.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine31").style("opacity", newOpacity); 
                        d3.select("#redAxis31").style("opacity", newOpacity);
                        redLine31.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-BSV-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g31.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update31('2h');</script><br> okex TRX-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update32('1h')"> 1 Hour </button><button id = "2h" onclick="update32('2h')"> 2 Hours </button><button id = "12h" onclick="update32('12h')"> 12 Hours </button><button id = "1d" onclick="update32('1d')"> 1 Day </button><button id = "3d" onclick="update32('3d')"> 3 Days </button> <label> <input id = "check32" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg32" width = "890" height = "450"> </svg> <script> const svg32 = d3.select("#svg32");function update32(selectedVar){var isChecked = document.getElementById("check32").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg32.attr('width'); 
const height = svg32.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg32.selectAll("*").remove(); 
const g32= svg32.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g32.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g32.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-TRX-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg32.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine32")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg32.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis32")
                        .call(d3.axisRight(y1)); });
                    svg32.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine32.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine32").style("opacity", newOpacity); 
                        d3.select("#redAxis32").style("opacity", newOpacity);
                        redLine32.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-TRX-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g32.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update32('2h');</script><br> okex TRX-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update33('1h')"> 1 Hour </button><button id = "2h" onclick="update33('2h')"> 2 Hours </button><button id = "12h" onclick="update33('12h')"> 12 Hours </button><button id = "1d" onclick="update33('1d')"> 1 Day </button><button id = "3d" onclick="update33('3d')"> 3 Days </button> <label> <input id = "check33" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg33" width = "890" height = "450"> </svg> <script> const svg33 = d3.select("#svg33");function update33(selectedVar){var isChecked = document.getElementById("check33").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg33.attr('width'); 
const height = svg33.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg33.selectAll("*").remove(); 
const g33= svg33.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g33.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g33.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-TRX-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg33.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine33")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg33.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis33")
                        .call(d3.axisRight(y1)); });
                    svg33.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine33.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine33").style("opacity", newOpacity); 
                        d3.select("#redAxis33").style("opacity", newOpacity);
                        redLine33.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-TRX-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g33.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update33('2h');</script><br> okex TRX-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update34('1h')"> 1 Hour </button><button id = "2h" onclick="update34('2h')"> 2 Hours </button><button id = "12h" onclick="update34('12h')"> 12 Hours </button><button id = "1d" onclick="update34('1d')"> 1 Day </button><button id = "3d" onclick="update34('3d')"> 3 Days </button> <label> <input id = "check34" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg34" width = "890" height = "450"> </svg> <script> const svg34 = d3.select("#svg34");function update34(selectedVar){var isChecked = document.getElementById("check34").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg34.attr('width'); 
const height = svg34.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg34.selectAll("*").remove(); 
const g34= svg34.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g34.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g34.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-TRX-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg34.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine34")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg34.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis34")
                        .call(d3.axisRight(y1)); });
                    svg34.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine34.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine34").style("opacity", newOpacity); 
                        d3.select("#redAxis34").style("opacity", newOpacity);
                        redLine34.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-TRX-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g34.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update34('2h');</script><br> okex TRX-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update35('1h')"> 1 Hour </button><button id = "2h" onclick="update35('2h')"> 2 Hours </button><button id = "12h" onclick="update35('12h')"> 12 Hours </button><button id = "1d" onclick="update35('1d')"> 1 Day </button><button id = "3d" onclick="update35('3d')"> 3 Days </button> <label> <input id = "check35" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg35" width = "890" height = "450"> </svg> <script> const svg35 = d3.select("#svg35");function update35(selectedVar){var isChecked = document.getElementById("check35").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg35.attr('width'); 
const height = svg35.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg35.selectAll("*").remove(); 
const g35= svg35.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g35.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g35.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-TRX-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg35.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine35")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg35.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis35")
                        .call(d3.axisRight(y1)); });
                    svg35.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine35.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine35").style("opacity", newOpacity); 
                        d3.select("#redAxis35").style("opacity", newOpacity);
                        redLine35.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-TRX-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g35.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update35('2h');</script><br> okex ADA-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update36('1h')"> 1 Hour </button><button id = "2h" onclick="update36('2h')"> 2 Hours </button><button id = "12h" onclick="update36('12h')"> 12 Hours </button><button id = "1d" onclick="update36('1d')"> 1 Day </button><button id = "3d" onclick="update36('3d')"> 3 Days </button> <label> <input id = "check36" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg36" width = "890" height = "450"> </svg> <script> const svg36 = d3.select("#svg36");function update36(selectedVar){var isChecked = document.getElementById("check36").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg36.attr('width'); 
const height = svg36.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg36.selectAll("*").remove(); 
const g36= svg36.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g36.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g36.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ADA-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg36.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine36")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg36.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis36")
                        .call(d3.axisRight(y1)); });
                    svg36.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine36.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine36").style("opacity", newOpacity); 
                        d3.select("#redAxis36").style("opacity", newOpacity);
                        redLine36.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ADA-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g36.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update36('2h');</script><br> okex ADA-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update37('1h')"> 1 Hour </button><button id = "2h" onclick="update37('2h')"> 2 Hours </button><button id = "12h" onclick="update37('12h')"> 12 Hours </button><button id = "1d" onclick="update37('1d')"> 1 Day </button><button id = "3d" onclick="update37('3d')"> 3 Days </button> <label> <input id = "check37" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg37" width = "890" height = "450"> </svg> <script> const svg37 = d3.select("#svg37");function update37(selectedVar){var isChecked = document.getElementById("check37").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg37.attr('width'); 
const height = svg37.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg37.selectAll("*").remove(); 
const g37= svg37.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g37.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g37.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ADA-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg37.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine37")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg37.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis37")
                        .call(d3.axisRight(y1)); });
                    svg37.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine37.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine37").style("opacity", newOpacity); 
                        d3.select("#redAxis37").style("opacity", newOpacity);
                        redLine37.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ADA-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g37.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update37('2h');</script><br> okex ADA-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update38('1h')"> 1 Hour </button><button id = "2h" onclick="update38('2h')"> 2 Hours </button><button id = "12h" onclick="update38('12h')"> 12 Hours </button><button id = "1d" onclick="update38('1d')"> 1 Day </button><button id = "3d" onclick="update38('3d')"> 3 Days </button> <label> <input id = "check38" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg38" width = "890" height = "450"> </svg> <script> const svg38 = d3.select("#svg38");function update38(selectedVar){var isChecked = document.getElementById("check38").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg38.attr('width'); 
const height = svg38.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg38.selectAll("*").remove(); 
const g38= svg38.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g38.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g38.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ADA-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg38.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine38")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg38.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis38")
                        .call(d3.axisRight(y1)); });
                    svg38.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine38.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine38").style("opacity", newOpacity); 
                        d3.select("#redAxis38").style("opacity", newOpacity);
                        redLine38.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ADA-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g38.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update38('2h');</script><br> okex ADA-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update39('1h')"> 1 Hour </button><button id = "2h" onclick="update39('2h')"> 2 Hours </button><button id = "12h" onclick="update39('12h')"> 12 Hours </button><button id = "1d" onclick="update39('1d')"> 1 Day </button><button id = "3d" onclick="update39('3d')"> 3 Days </button> <label> <input id = "check39" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg39" width = "890" height = "450"> </svg> <script> const svg39 = d3.select("#svg39");function update39(selectedVar){var isChecked = document.getElementById("check39").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg39.attr('width'); 
const height = svg39.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg39.selectAll("*").remove(); 
const g39= svg39.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g39.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g39.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ADA-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg39.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine39")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg39.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis39")
                        .call(d3.axisRight(y1)); });
                    svg39.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine39.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine39").style("opacity", newOpacity); 
                        d3.select("#redAxis39").style("opacity", newOpacity);
                        redLine39.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ADA-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g39.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update39('2h');</script><br> okex DASH-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update40('1h')"> 1 Hour </button><button id = "2h" onclick="update40('2h')"> 2 Hours </button><button id = "12h" onclick="update40('12h')"> 12 Hours </button><button id = "1d" onclick="update40('1d')"> 1 Day </button><button id = "3d" onclick="update40('3d')"> 3 Days </button> <label> <input id = "check40" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg40" width = "890" height = "450"> </svg> <script> const svg40 = d3.select("#svg40");function update40(selectedVar){var isChecked = document.getElementById("check40").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg40.attr('width'); 
const height = svg40.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg40.selectAll("*").remove(); 
const g40= svg40.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g40.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g40.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-DASH-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg40.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine40")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg40.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis40")
                        .call(d3.axisRight(y1)); });
                    svg40.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine40.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine40").style("opacity", newOpacity); 
                        d3.select("#redAxis40").style("opacity", newOpacity);
                        redLine40.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-DASH-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g40.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update40('2h');</script><br> okex DASH-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update41('1h')"> 1 Hour </button><button id = "2h" onclick="update41('2h')"> 2 Hours </button><button id = "12h" onclick="update41('12h')"> 12 Hours </button><button id = "1d" onclick="update41('1d')"> 1 Day </button><button id = "3d" onclick="update41('3d')"> 3 Days </button> <label> <input id = "check41" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg41" width = "890" height = "450"> </svg> <script> const svg41 = d3.select("#svg41");function update41(selectedVar){var isChecked = document.getElementById("check41").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg41.attr('width'); 
const height = svg41.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg41.selectAll("*").remove(); 
const g41= svg41.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g41.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g41.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-DASH-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg41.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine41")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg41.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis41")
                        .call(d3.axisRight(y1)); });
                    svg41.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine41.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine41").style("opacity", newOpacity); 
                        d3.select("#redAxis41").style("opacity", newOpacity);
                        redLine41.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-DASH-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g41.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update41('2h');</script><br> okex DASH-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update42('1h')"> 1 Hour </button><button id = "2h" onclick="update42('2h')"> 2 Hours </button><button id = "12h" onclick="update42('12h')"> 12 Hours </button><button id = "1d" onclick="update42('1d')"> 1 Day </button><button id = "3d" onclick="update42('3d')"> 3 Days </button> <label> <input id = "check42" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg42" width = "890" height = "450"> </svg> <script> const svg42 = d3.select("#svg42");function update42(selectedVar){var isChecked = document.getElementById("check42").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg42.attr('width'); 
const height = svg42.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg42.selectAll("*").remove(); 
const g42= svg42.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g42.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g42.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-DASH-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg42.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine42")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg42.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis42")
                        .call(d3.axisRight(y1)); });
                    svg42.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine42.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine42").style("opacity", newOpacity); 
                        d3.select("#redAxis42").style("opacity", newOpacity);
                        redLine42.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-DASH-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g42.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update42('2h');</script><br> okex DASH-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update43('1h')"> 1 Hour </button><button id = "2h" onclick="update43('2h')"> 2 Hours </button><button id = "12h" onclick="update43('12h')"> 12 Hours </button><button id = "1d" onclick="update43('1d')"> 1 Day </button><button id = "3d" onclick="update43('3d')"> 3 Days </button> <label> <input id = "check43" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg43" width = "890" height = "450"> </svg> <script> const svg43 = d3.select("#svg43");function update43(selectedVar){var isChecked = document.getElementById("check43").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg43.attr('width'); 
const height = svg43.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg43.selectAll("*").remove(); 
const g43= svg43.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g43.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g43.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-DASH-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg43.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine43")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg43.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis43")
                        .call(d3.axisRight(y1)); });
                    svg43.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine43.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine43").style("opacity", newOpacity); 
                        d3.select("#redAxis43").style("opacity", newOpacity);
                        redLine43.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-DASH-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g43.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update43('2h');</script><br> okex LINK-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update44('1h')"> 1 Hour </button><button id = "2h" onclick="update44('2h')"> 2 Hours </button><button id = "12h" onclick="update44('12h')"> 12 Hours </button><button id = "1d" onclick="update44('1d')"> 1 Day </button><button id = "3d" onclick="update44('3d')"> 3 Days </button> <label> <input id = "check44" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg44" width = "890" height = "450"> </svg> <script> const svg44 = d3.select("#svg44");function update44(selectedVar){var isChecked = document.getElementById("check44").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg44.attr('width'); 
const height = svg44.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg44.selectAll("*").remove(); 
const g44= svg44.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g44.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g44.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-LINK-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg44.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine44")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg44.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis44")
                        .call(d3.axisRight(y1)); });
                    svg44.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine44.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine44").style("opacity", newOpacity); 
                        d3.select("#redAxis44").style("opacity", newOpacity);
                        redLine44.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-LINK-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g44.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update44('2h');</script><br> okex LINK-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update45('1h')"> 1 Hour </button><button id = "2h" onclick="update45('2h')"> 2 Hours </button><button id = "12h" onclick="update45('12h')"> 12 Hours </button><button id = "1d" onclick="update45('1d')"> 1 Day </button><button id = "3d" onclick="update45('3d')"> 3 Days </button> <label> <input id = "check45" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg45" width = "890" height = "450"> </svg> <script> const svg45 = d3.select("#svg45");function update45(selectedVar){var isChecked = document.getElementById("check45").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg45.attr('width'); 
const height = svg45.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg45.selectAll("*").remove(); 
const g45= svg45.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g45.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g45.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-LINK-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg45.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine45")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg45.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis45")
                        .call(d3.axisRight(y1)); });
                    svg45.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine45.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine45").style("opacity", newOpacity); 
                        d3.select("#redAxis45").style("opacity", newOpacity);
                        redLine45.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-LINK-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g45.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update45('2h');</script><br> okex LINK-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update46('1h')"> 1 Hour </button><button id = "2h" onclick="update46('2h')"> 2 Hours </button><button id = "12h" onclick="update46('12h')"> 12 Hours </button><button id = "1d" onclick="update46('1d')"> 1 Day </button><button id = "3d" onclick="update46('3d')"> 3 Days </button> <label> <input id = "check46" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg46" width = "890" height = "450"> </svg> <script> const svg46 = d3.select("#svg46");function update46(selectedVar){var isChecked = document.getElementById("check46").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg46.attr('width'); 
const height = svg46.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg46.selectAll("*").remove(); 
const g46= svg46.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g46.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g46.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-LINK-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg46.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine46")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg46.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis46")
                        .call(d3.axisRight(y1)); });
                    svg46.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine46.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine46").style("opacity", newOpacity); 
                        d3.select("#redAxis46").style("opacity", newOpacity);
                        redLine46.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-LINK-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g46.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update46('2h');</script><br> okex LINK-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update47('1h')"> 1 Hour </button><button id = "2h" onclick="update47('2h')"> 2 Hours </button><button id = "12h" onclick="update47('12h')"> 12 Hours </button><button id = "1d" onclick="update47('1d')"> 1 Day </button><button id = "3d" onclick="update47('3d')"> 3 Days </button> <label> <input id = "check47" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg47" width = "890" height = "450"> </svg> <script> const svg47 = d3.select("#svg47");function update47(selectedVar){var isChecked = document.getElementById("check47").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg47.attr('width'); 
const height = svg47.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg47.selectAll("*").remove(); 
const g47= svg47.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g47.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g47.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-LINK-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg47.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine47")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg47.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis47")
                        .call(d3.axisRight(y1)); });
                    svg47.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine47.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine47").style("opacity", newOpacity); 
                        d3.select("#redAxis47").style("opacity", newOpacity);
                        redLine47.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-LINK-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g47.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update47('2h');</script><br> okex NEO-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update48('1h')"> 1 Hour </button><button id = "2h" onclick="update48('2h')"> 2 Hours </button><button id = "12h" onclick="update48('12h')"> 12 Hours </button><button id = "1d" onclick="update48('1d')"> 1 Day </button><button id = "3d" onclick="update48('3d')"> 3 Days </button> <label> <input id = "check48" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg48" width = "890" height = "450"> </svg> <script> const svg48 = d3.select("#svg48");function update48(selectedVar){var isChecked = document.getElementById("check48").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg48.attr('width'); 
const height = svg48.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg48.selectAll("*").remove(); 
const g48= svg48.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g48.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g48.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-NEO-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg48.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine48")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg48.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis48")
                        .call(d3.axisRight(y1)); });
                    svg48.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine48.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine48").style("opacity", newOpacity); 
                        d3.select("#redAxis48").style("opacity", newOpacity);
                        redLine48.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-NEO-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g48.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update48('2h');</script><br> okex NEO-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update49('1h')"> 1 Hour </button><button id = "2h" onclick="update49('2h')"> 2 Hours </button><button id = "12h" onclick="update49('12h')"> 12 Hours </button><button id = "1d" onclick="update49('1d')"> 1 Day </button><button id = "3d" onclick="update49('3d')"> 3 Days </button> <label> <input id = "check49" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg49" width = "890" height = "450"> </svg> <script> const svg49 = d3.select("#svg49");function update49(selectedVar){var isChecked = document.getElementById("check49").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg49.attr('width'); 
const height = svg49.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg49.selectAll("*").remove(); 
const g49= svg49.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g49.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g49.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-NEO-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg49.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine49")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg49.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis49")
                        .call(d3.axisRight(y1)); });
                    svg49.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine49.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine49").style("opacity", newOpacity); 
                        d3.select("#redAxis49").style("opacity", newOpacity);
                        redLine49.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-NEO-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g49.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update49('2h');</script><br> okex NEO-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update50('1h')"> 1 Hour </button><button id = "2h" onclick="update50('2h')"> 2 Hours </button><button id = "12h" onclick="update50('12h')"> 12 Hours </button><button id = "1d" onclick="update50('1d')"> 1 Day </button><button id = "3d" onclick="update50('3d')"> 3 Days </button> <label> <input id = "check50" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg50" width = "890" height = "450"> </svg> <script> const svg50 = d3.select("#svg50");function update50(selectedVar){var isChecked = document.getElementById("check50").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg50.attr('width'); 
const height = svg50.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg50.selectAll("*").remove(); 
const g50= svg50.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g50.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g50.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-NEO-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg50.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine50")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg50.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis50")
                        .call(d3.axisRight(y1)); });
                    svg50.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine50.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine50").style("opacity", newOpacity); 
                        d3.select("#redAxis50").style("opacity", newOpacity);
                        redLine50.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-NEO-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g50.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update50('2h');</script><br> okex NEO-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update51('1h')"> 1 Hour </button><button id = "2h" onclick="update51('2h')"> 2 Hours </button><button id = "12h" onclick="update51('12h')"> 12 Hours </button><button id = "1d" onclick="update51('1d')"> 1 Day </button><button id = "3d" onclick="update51('3d')"> 3 Days </button> <label> <input id = "check51" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg51" width = "890" height = "450"> </svg> <script> const svg51 = d3.select("#svg51");function update51(selectedVar){var isChecked = document.getElementById("check51").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg51.attr('width'); 
const height = svg51.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg51.selectAll("*").remove(); 
const g51= svg51.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g51.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g51.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-NEO-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg51.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine51")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg51.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis51")
                        .call(d3.axisRight(y1)); });
                    svg51.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine51.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine51").style("opacity", newOpacity); 
                        d3.select("#redAxis51").style("opacity", newOpacity);
                        redLine51.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-NEO-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g51.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update51('2h');</script><br> okex XTZ-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update52('1h')"> 1 Hour </button><button id = "2h" onclick="update52('2h')"> 2 Hours </button><button id = "12h" onclick="update52('12h')"> 12 Hours </button><button id = "1d" onclick="update52('1d')"> 1 Day </button><button id = "3d" onclick="update52('3d')"> 3 Days </button> <label> <input id = "check52" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg52" width = "890" height = "450"> </svg> <script> const svg52 = d3.select("#svg52");function update52(selectedVar){var isChecked = document.getElementById("check52").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg52.attr('width'); 
const height = svg52.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg52.selectAll("*").remove(); 
const g52= svg52.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g52.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g52.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-XTZ-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg52.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine52")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg52.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis52")
                        .call(d3.axisRight(y1)); });
                    svg52.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine52.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine52").style("opacity", newOpacity); 
                        d3.select("#redAxis52").style("opacity", newOpacity);
                        redLine52.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-XTZ-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g52.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update52('2h');</script><br> okex XTZ-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update53('1h')"> 1 Hour </button><button id = "2h" onclick="update53('2h')"> 2 Hours </button><button id = "12h" onclick="update53('12h')"> 12 Hours </button><button id = "1d" onclick="update53('1d')"> 1 Day </button><button id = "3d" onclick="update53('3d')"> 3 Days </button> <label> <input id = "check53" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg53" width = "890" height = "450"> </svg> <script> const svg53 = d3.select("#svg53");function update53(selectedVar){var isChecked = document.getElementById("check53").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg53.attr('width'); 
const height = svg53.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg53.selectAll("*").remove(); 
const g53= svg53.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g53.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g53.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-XTZ-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg53.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine53")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg53.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis53")
                        .call(d3.axisRight(y1)); });
                    svg53.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine53.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine53").style("opacity", newOpacity); 
                        d3.select("#redAxis53").style("opacity", newOpacity);
                        redLine53.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-XTZ-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g53.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update53('2h');</script><br> okex XTZ-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update54('1h')"> 1 Hour </button><button id = "2h" onclick="update54('2h')"> 2 Hours </button><button id = "12h" onclick="update54('12h')"> 12 Hours </button><button id = "1d" onclick="update54('1d')"> 1 Day </button><button id = "3d" onclick="update54('3d')"> 3 Days </button> <label> <input id = "check54" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg54" width = "890" height = "450"> </svg> <script> const svg54 = d3.select("#svg54");function update54(selectedVar){var isChecked = document.getElementById("check54").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg54.attr('width'); 
const height = svg54.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg54.selectAll("*").remove(); 
const g54= svg54.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g54.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g54.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-XTZ-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg54.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine54")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg54.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis54")
                        .call(d3.axisRight(y1)); });
                    svg54.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine54.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine54").style("opacity", newOpacity); 
                        d3.select("#redAxis54").style("opacity", newOpacity);
                        redLine54.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-XTZ-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g54.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update54('2h');</script><br> okex XTZ-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update55('1h')"> 1 Hour </button><button id = "2h" onclick="update55('2h')"> 2 Hours </button><button id = "12h" onclick="update55('12h')"> 12 Hours </button><button id = "1d" onclick="update55('1d')"> 1 Day </button><button id = "3d" onclick="update55('3d')"> 3 Days </button> <label> <input id = "check55" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg55" width = "890" height = "450"> </svg> <script> const svg55 = d3.select("#svg55");function update55(selectedVar){var isChecked = document.getElementById("check55").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg55.attr('width'); 
const height = svg55.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg55.selectAll("*").remove(); 
const g55= svg55.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g55.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g55.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-XTZ-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg55.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine55")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg55.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis55")
                        .call(d3.axisRight(y1)); });
                    svg55.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine55.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine55").style("opacity", newOpacity); 
                        d3.select("#redAxis55").style("opacity", newOpacity);
                        redLine55.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-XTZ-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g55.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update55('2h');</script><br> okex ZEC-USD-200619 in USD (converted from contracts) <button id = "1h" onclick="update56('1h')"> 1 Hour </button><button id = "2h" onclick="update56('2h')"> 2 Hours </button><button id = "12h" onclick="update56('12h')"> 12 Hours </button><button id = "1d" onclick="update56('1d')"> 1 Day </button><button id = "3d" onclick="update56('3d')"> 3 Days </button> <label> <input id = "check56" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg56" width = "890" height = "450"> </svg> <script> const svg56 = d3.select("#svg56");function update56(selectedVar){var isChecked = document.getElementById("check56").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg56.attr('width'); 
const height = svg56.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg56.selectAll("*").remove(); 
const g56= svg56.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g56.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g56.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ZEC-USD-200619-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg56.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine56")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg56.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis56")
                        .call(d3.axisRight(y1)); });
                    svg56.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine56.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine56").style("opacity", newOpacity); 
                        d3.select("#redAxis56").style("opacity", newOpacity);
                        redLine56.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ZEC-USD-200619-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g56.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update56('2h');</script><br> okex ZEC-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update57('1h')"> 1 Hour </button><button id = "2h" onclick="update57('2h')"> 2 Hours </button><button id = "12h" onclick="update57('12h')"> 12 Hours </button><button id = "1d" onclick="update57('1d')"> 1 Day </button><button id = "3d" onclick="update57('3d')"> 3 Days </button> <label> <input id = "check57" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg57" width = "890" height = "450"> </svg> <script> const svg57 = d3.select("#svg57");function update57(selectedVar){var isChecked = document.getElementById("check57").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg57.attr('width'); 
const height = svg57.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg57.selectAll("*").remove(); 
const g57= svg57.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g57.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g57.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ZEC-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg57.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine57")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg57.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis57")
                        .call(d3.axisRight(y1)); });
                    svg57.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine57.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine57").style("opacity", newOpacity); 
                        d3.select("#redAxis57").style("opacity", newOpacity);
                        redLine57.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ZEC-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g57.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update57('2h');</script><br> okex ZEC-USD-200626 in USD (converted from contracts) <button id = "1h" onclick="update58('1h')"> 1 Hour </button><button id = "2h" onclick="update58('2h')"> 2 Hours </button><button id = "12h" onclick="update58('12h')"> 12 Hours </button><button id = "1d" onclick="update58('1d')"> 1 Day </button><button id = "3d" onclick="update58('3d')"> 3 Days </button> <label> <input id = "check58" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg58" width = "890" height = "450"> </svg> <script> const svg58 = d3.select("#svg58");function update58(selectedVar){var isChecked = document.getElementById("check58").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg58.attr('width'); 
const height = svg58.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg58.selectAll("*").remove(); 
const g58= svg58.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g58.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g58.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ZEC-USD-200626-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg58.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine58")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg58.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis58")
                        .call(d3.axisRight(y1)); });
                    svg58.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine58.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine58").style("opacity", newOpacity); 
                        d3.select("#redAxis58").style("opacity", newOpacity);
                        redLine58.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ZEC-USD-200626-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g58.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update58('2h');</script><br> okex ZEC-USD-200925 in USD (converted from contracts) <button id = "1h" onclick="update59('1h')"> 1 Hour </button><button id = "2h" onclick="update59('2h')"> 2 Hours </button><button id = "12h" onclick="update59('12h')"> 12 Hours </button><button id = "1d" onclick="update59('1d')"> 1 Day </button><button id = "3d" onclick="update59('3d')"> 3 Days </button> <label> <input id = "check59" type = "checkbox"> Coin Denominated </label> <br><svg id = "svg59" width = "890" height = "450"> </svg> <script> const svg59 = d3.select("#svg59");function update59(selectedVar){var isChecked = document.getElementById("check59").checked;
if (isChecked){
    file_name = 'coin'
}
else{
    file_name = 'usd'
}
    const width = svg59.attr('width'); 
const height = svg59.attr('height'); 
 const innerWidth = width - margin.left - margin.right; 
 const innerHeight = height - margin.top - margin.bottom; 
svg59.selectAll("*").remove(); 
const g59= svg59.append('g') 
.attr('transform', `translate(${margin.left},${margin.top})`); 
const xAxisG = g59.append('g') 
 .attr('transform', `translate(0, ${innerHeight})`); 
const yAxisG = g59.append('g') 
 xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);


            const xScale = d3.scaleTime();
            const yScale = d3.scaleLinear();

            const xAxis = d3.axisBottom()
                .scale(xScale)
                .tickPadding(15)
                .tickSize(-innerHeight);

            const yAxis = d3.axisLeft()
                .scale(yScale)
                .ticks(5)
                .tickPadding(15)
                .tickSize(-innerWidth);
                
            
            const row = d => {
                d.date = new Date(d.date);
                d.value = +d.value;
                return d;
            };
    d3.csv("/static/js/open-interest-price/okex-" + selectedVar + "-ZEC-USD-200925-open-interest-price.csv", function(error,data){  if (error) throw error;
    
      // format the data
      data.forEach(function(d) {
          d.date = parseTime(d.date);
          d.price = +d.price;
          d.oi = +d.oi;
      });
    
      // Scale the range of the data
      x.domain(d3.extent(data, function(d) { return d.date; }));
      y1.domain([d3.min(data, function(d) {return Math.min(d.price);}), d3.max(data, function(d) {return Math.max(d.price); })]);
    
      var tempWidth = innerWidth + 100 
    svg59.append("path")
                        .data([data])
                        .attr("class","line")
                        .attr("id", "redLine59")
                        .style("stroke", "red")
                        .attr("d", valueline2)
                        .attr("transform", "translate( 100" + ",20)");
                    svg59.append("g")
                        .attr("class","axisRed")
                        .attr("transform", "translate( " + tempWidth + ", 20 )")
                        .attr("id", "redAxis59")
                        .call(d3.axisRight(y1)); });
                    svg59.append("text")
                        .attr("x", innerWidth + 40)             
                        .attr("y", margin.top - 10)    
                        .attr("class", "legend")
                        .style("fill", "red")         
                        .on("click", function(){
                            var active = redLine59.active ? false : true,
                            newOpacity = active ? 0 : 1;
                        d3.select("#redLine59").style("opacity", newOpacity); 
                        d3.select("#redAxis59").style("opacity", newOpacity);
                        redLine59.active = active;})
                        .text("Price Line"); 
d3.csv("/static/js/open-interest/okex-" + selectedVar + "-ZEC-USD-200925-open-interest-" + file_name + ".csv", row, data => {  xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();g59.selectAll('circle').data(data).enter().append('circle')
                        .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .6)
                .attr('r', 5)
                .style("fill", "steelblue")
            
                xAxisG.call(xAxis);
                yAxisG.call(yAxis);
                });
                }
                update59('2h');</script>