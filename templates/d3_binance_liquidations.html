<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src= "https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <link rel ="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <title> Open Interest </title>

    <!--
    <ul>
        <li><a id = "oi" href="/d3bitmex">Open Interest</a></li>
        <li><a href="/d3bitmexliquidations">Liquidations</a></li>
        <li><a href="/d3Prices">Prices</a></li>
        <li><a href="/d3Volume">Volume</a></li>
      </ul>

  </head>
  <body>
 
    <a id = "bitmex" href = "/d3bitmex"> bitmex </a>
    <a id = "binance" href = "/d3binance"> binance </a>
    <a id = "bybit" href = "/d3bybit"> bybit </a>
    <a id = "ftx" href = "/d3ftx"> FTX </a>
    <a id = "huobi" href = "/d3huobi"> huobi </a>
    <a id = "okex" href = "/d3okexUSDswap"> okex </a>
    <a id = "deribit" href = "/d3deribit"> deribit </a>

  -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white py-3 shadow-sm">
    <div class="container">
      <a href="/d3bitmex" class="navbar-brand font-weight-bold">Data Visualization</a>
      <button type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbars" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler">
                <span class="navbar-toggler-icon"></span>
            </button>
  
  
      <div id="navbarContent" class="collapse navbar-collapse">
        <ul class="navbar-nav mr-auto">
          <!-- Level one dropdown -->
          <li class="nav-item dropdown">
            <a id="dropdownMenu1" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle">Open Interest</a>
            <ul aria-labelledby="dropdownMenu1" class="dropdown-menu border-0 shadow">
              <li><a href="/d3bitmex" class="dropdown-item">Bitmex </a></li>
              <li><a href="/d3binance" class="dropdown-item">Binance</a></li>
              <li><a href="/d3bybit" class="dropdown-item">Bybit</a></li>
              <li><a href="/d3ftx" class="dropdown-item">FTX</a></li>
              <li><a href="/d3huobi" class="dropdown-item">Huobi</a></li>
              <li><a href="/d3deribit" class="dropdown-item">Deribit</a></li>
  
              <li class="dropdown-divider"></li>
  
              <!-- Level two dropdown-->
              <li class="dropdown-submenu">
                <a id="dropdownMenu2" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-item dropdown-toggle">Okex</a>
                <ul aria-labelledby="dropdownMenu2" class="dropdown-menu border-0 shadow">
                  <li>
                    <a tabindex="-1" href="/d3okexUSDswap" class="dropdown-item">Coin Margined Swap</a>
                  </li>
  
               
  
                  <li><a href="/d3okexUSDTswap" class="dropdown-item">USDT Margined Swap</a></li>
                  <li><a href="/d3okexUSDfutures" class="dropdown-item">Coin Margined Futures</a></li>
                  <li><a href="/d3okexUSDTfutures" class="dropdown-item">USDT Margined Futures</a></li>
                </ul>
              </li>
              <!-- End Level two -->
              
              
            </ul>
          </li>
          <!-- End Level one -->
                  <li class="nav-item dropdown">
   <a id="dropdownMenu3" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle">Liquidations</a>
            <ul aria-labelledby="dropdownMenu3" class="dropdown-menu border-0 shadow">
              <li><a href="/d3bitmexliquidations" class="dropdown-item">Bitmex </a></li>
              <li><a href="/d3binanceliquidations" class="dropdown-item">Binance</a></li>
              <li><a href="/d3okexliquidations" class="dropdown-item">Okex</a></li>
              <li><a href="/d3ftxliquidations" class="dropdown-item">FTX</a></li>
              
              <!-- End Level two -->
              <li class="nav-item dropdown">
                <a id="dropdownMenu5" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle"> Aggregative Open Interest</a>
                         <ul aria-labelledby="dropdownMenu5" class="dropdown-menu border-0 shadow">
                           <li><a href="/d3btc-oi" class="dropdown-item">BTC </a></li>
                           <li><a href="/d3eth-oi" class="dropdown-item">ETH</a></li>
                           <li><a href="/d3xrp-oi" class="dropdown-item">XRP</a></li>
                           <!-- <li><a href="/d3ftxliquidations" class="dropdown-item">FTX</a></li>-->
                           
                           <!-- End Level two -->
                           
                           
                         </ul>
                         </li>
              
            </ul>
            </li>
           
            <li class="nav-item dropdown">
   <a id="dropdownMenu4" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle">Volume</a>
            <ul aria-labelledby="dropdownMenu4" class="dropdown-menu border-0 shadow">
              <li><a href="/d3bitmexvolume" class="dropdown-item">Bitmex </a></li>
              
              <!-- End Level two -->
              
              
            </ul>
            </li>
         
          <li class="nav-item"><a href="/d3Prices" class="nav-link">Prices</a></li>
          
        </ul>
      </div>
    </div>
  </nav>
  <script>
      $(function() {
  // ------------------------------------------------------- //
  // Multi Level dropdowns
  // ------------------------------------------------------ //
  $("ul.dropdown-menu [data-toggle='dropdown']").on("click", function(event) {
    event.preventDefault();
    event.stopPropagation();

    $(this).siblings().toggleClass("show");


    if (!$(this).next().hasClass('show')) {
      $(this).parents('.dropdown-menu').first().find('.show').removeClass("show");
    }
    $(this).parents('li.nav-item.dropdown.show').on('hidden.bs.dropdown', function(e) {
      $('.dropdown-submenu .show').removeClass("show");
    });

  });
});
  </script>
  <style>
       ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}
li {
  display: inline;
}
        body {
          font: 14px sans-serif;
          position: absolute;
          margin-left:40px;
        }
        
        .bar{
            fill: grey;
            opacity: .8;
        }
         
        .axis path,
        .axis line {
          fill: none;
          stroke: #000;
          shape-rendering: crispEdges;
        }
        
        .dot {
          stroke: #000;
        }
        
        .tooltip {
          position: absolute;
          width: 200px;
          height: 28px;
          pointer-events: none;
        }

      .dropdown-submenu {
  position: relative;
}

.dropdown-submenu>a:after {
  content: "\f0da";
  float: right;
  border: none;
}

.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: 0px;
  margin-left: 0px;
}

  </style>
  <body>
    <br>
    binance LINKUSDT Liquidations
    <button id = "1d" onclick="update('1d')"> 1 Day </button>
    <button id = "3d" onclick="update('3d')">3 Days</button>
    <button id = "7d" onclick="update('7d')">7 Days</button>
    <button id = "30d" onclick="update('30d')">1 Month</button>
    <br>
    <svg id = "svg1" width="890" height="450"></svg>
    <script>

        $(function() {
          $('a#liquidations').bind('click', function() {
            $.getJSON('/refresh_liquidations',
            
                function(data) {
            });
            return false;
          });
        });


       const xValue = d => d.Hrs;
      const xLabel = 'Time';
      const yValue = d => d.Liq;
      const yLabel = 'Liquidation';
      const margin = { left: 80, right: 30, top: 20, bottom: 120 };
      const cValue = d => d.BuySell;
      const color = d3.scaleOrdinal(d3.schemeCategory10);
        const svg = d3.select("#svg1");

      function update(selectedVar){
        svg.selectAll("*").remove();

           const width = svg.attr('width');
      const height = svg.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      const g = svg.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);

      const xScale = d3.scaleTime();
      const yScale = d3.scaleLinear();

      const xAxis = d3.axisBottom()
        .scale(xScale)
        .tickPadding(15)
        .tickSize(-innerHeight);

      const yAxis = d3.axisLeft()
        .scale(yScale)
        .ticks(5)
        .tickPadding(15)
        .tickSize(-innerWidth);

      const row = d => {
        d.Hrs = new Date(d.Hrs);
        d.Liq = +d.Liq;
        return d;
      };

        
        d3.csv('/static/js/liquidations/binance-' + selectedVar + '-LINKUSDT-liquidations.csv', row, data => {
            xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .8)
                .attr('r', 6)
                .style("fill", function(d) { return color(cValue(d));}) 
                .on("mouseover", function(d) {
                    tooltip.transition()
                .duration(200)
                .style("opacity", .9);
                    tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                    + ", " + yValue(d) + ")")
                .style("left", (d3.event.pageX + 5) + "px")
                .style("top", (d3.event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                    tooltip.transition()
                .duration(500)
                .style("opacity", 0);
                });

        var legend = svg.selectAll(".legend")
        .data(color.domain())
        .enter().append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

    // draw legend colored rectangles
    legend.append("rect")
        .attr("x", width - 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", color);

    // draw legend text
    legend.append("text")
        .attr("x", width - 22)
        .attr("y", 9)
        .attr("dy", ".35em")
        .style("text-anchor", "end")
        .text(function(d) { return d;})

            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
    </script>
<br>
binance ETHUSDT Liquidations
    <button id = "1d" onclick="update2('1d')"> 1 Day </button>
    <button id = "3d" onclick="update2('3d')">3 Days</button>
    <button id = "7d" onclick="update2('7d')">7 Days</button>
    <button id = "30d" onclick="update2('30d')">1 Month</button>
    <br>
    <svg id = "svg2" width="890" height="450"></svg>
    <script>
      const svg2 = d3.select('#svg2');

      function update2(selectedVar){

      const width = svg2.attr('width');
      const height = svg2.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      svg2.selectAll("*").remove();

      const g2 = svg2.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g2.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g2.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);

      const xScale = d3.scaleTime();
      const yScale = d3.scaleLinear();

      const xAxis = d3.axisBottom()
        .scale(xScale)
        .tickPadding(15)
        .tickSize(-innerHeight);

      const yAxis = d3.axisLeft()
        .scale(yScale)
        .ticks(5)
        .tickPadding(15)
        .tickSize(-innerWidth);

      const row = d => {
        d.Hrs = new Date(d.Hrs);
        d.Liq = +d.Liq;
        return d;
      };

        
        d3.csv('/static/js/liquidations/binance-' + selectedVar + '-ETHUSDT-liquidations.csv', row, data => {
            xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g2.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .8)
                .attr('r', 6)
                .style("fill", function(d) { return color(cValue(d));}) 
                .on("mouseover", function(d) {
                    tooltip.transition()
                .duration(200)
                .style("opacity", .9);
                    tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                    + ", " + yValue(d) + ")")
                .style("left", (d3.event.pageX + 5) + "px")
                .style("top", (d3.event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                    tooltip.transition()
                .duration(500)
                .style("opacity", 0);
                });

        var legend = svg2.selectAll(".legend")
        .data(color.domain())
        .enter().append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

    // draw legend colored rectangles
    legend.append("rect")
        .attr("x", width - 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", color);

    // draw legend text
    legend.append("text")
        .attr("x", width - 22)
        .attr("y", 9)
        .attr("dy", ".35em")
        .style("text-anchor", "end")
        .text(function(d) { return d;})

            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
</script>


<br>
    binance XMRUSDT Liquidations
    <button id = "1d" onclick="update3('1d')"> 1 Day </button>
    <button id = "3d" onclick="update3('3d')">3 Days</button>
    <button id = "7d" onclick="update3('7d')">7 Days</button>
    <button id = "30d" onclick="update3('30d')">1 Month</button>
    <br>
    <svg id = "svg3" width="890" height="450"></svg>
    <script>

        const svg3 = d3.select("#svg3");

      function update3(selectedVar){
        svg3.selectAll("*").remove();

           const width = svg3.attr('width');
      const height = svg3.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      const g3 = svg3.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g3.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g3.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);

      const xScale = d3.scaleTime();
      const yScale = d3.scaleLinear();

      const xAxis = d3.axisBottom()
        .scale(xScale)
        .tickPadding(15)
        .tickSize(-innerHeight);

      const yAxis = d3.axisLeft()
        .scale(yScale)
        .ticks(5)
        .tickPadding(15)
        .tickSize(-innerWidth);

      const row = d => {
        d.Hrs = new Date(d.Hrs);
        d.Liq = +d.Liq;
        return d;
      };

        
        d3.csv('/static/js/liquidations/binance-' + selectedVar + '-XMRUSDT-liquidations.csv', row, data => {
            xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g3.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .8)
                .attr('r', 6)
                .style("fill", function(d) { return color(cValue(d));}) 
                .on("mouseover", function(d) {
                    tooltip.transition()
                .duration(200)
                .style("opacity", .9);
                    tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                    + ", " + yValue(d) + ")")
                .style("left", (d3.event.pageX + 5) + "px")
                .style("top", (d3.event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                    tooltip.transition()
                .duration(500)
                .style("opacity", 0);
                });

        var legend = svg3.selectAll(".legend")
        .data(color.domain())
        .enter().append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

    // draw legend colored rectangles
    legend.append("rect")
        .attr("x", width - 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", color);

    // draw legend text
    legend.append("text")
        .attr("x", width - 22)
        .attr("y", 9)
        .attr("dy", ".35em")
        .style("text-anchor", "end")
        .text(function(d) { return d;})

            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
    </script>


<br>
    binance BCHUSDT Liquidations
    <button id = "1d" onclick="update4('1d')"> 1 Day </button>
    <button id = "3d" onclick="update4('3d')">3 Days</button>
    <button id = "7d" onclick="update4('7d')">7 Days</button>
    <button id = "30d" onclick="update4('30d')">1 Month</button>
    <br>
    <svg id = "svg4" width="890" height="450"></svg>
    <script>

        const svg4 = d3.select("#svg4");

      function update4(selectedVar){
        svg4.selectAll("*").remove();

           const width = svg4.attr('width');
      const height = svg4.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      const g4 = svg4.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g4.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g4.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);

      const xScale = d3.scaleTime();
      const yScale = d3.scaleLinear();

      const xAxis = d3.axisBottom()
        .scale(xScale)
        .tickPadding(15)
        .tickSize(-innerHeight);

      const yAxis = d3.axisLeft()
        .scale(yScale)
        .ticks(5)
        .tickPadding(15)
        .tickSize(-innerWidth);

      const row = d => {
        d.Hrs = new Date(d.Hrs);
        d.Liq = +d.Liq;
        return d;
      };

        
        d3.csv('/static/js/liquidations/binance-' + selectedVar + '-BCHUSDT-liquidations.csv', row, data => {
            xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g4.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .8)
                .attr('r', 6)
                .style("fill", function(d) { return color(cValue(d));}) 
                .on("mouseover", function(d) {
                    tooltip.transition()
                .duration(200)
                .style("opacity", .9);
                    tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                    + ", " + yValue(d) + ")")
                .style("left", (d3.event.pageX + 5) + "px")
                .style("top", (d3.event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                    tooltip.transition()
                .duration(500)
                .style("opacity", 0);
                });

        var legend = svg4.selectAll(".legend")
        .data(color.domain())
        .enter().append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

    // draw legend colored rectangles
    legend.append("rect")
        .attr("x", width - 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", color);

    // draw legend text
    legend.append("text")
        .attr("x", width - 22)
        .attr("y", 9)
        .attr("dy", ".35em")
        .style("text-anchor", "end")
        .text(function(d) { return d;})

            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
    </script>



<br>
    binance XTZUSDT Liquidations
    <button id = "1d" onclick="update5('1d')"> 1 Day </button>
    <button id = "3d" onclick="update5('3d')">3 Days</button>
    <button id = "7d" onclick="update5('7d')">7 Days</button>
    <button id = "30d" onclick="update5('30d')">1 Month</button>
    <br>
    <svg id = "svg5" width="890" height="450"></svg>
    <script>

        const svg5 = d3.select("#svg5");

      function update5(selectedVar){
        svg5.selectAll("*").remove();

           const width = svg5.attr('width');
      const height = svg5.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      const g5 = svg5.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g5.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g5.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);

      const xScale = d3.scaleTime();
      const yScale = d3.scaleLinear();

      const xAxis = d3.axisBottom()
        .scale(xScale)
        .tickPadding(15)
        .tickSize(-innerHeight);

      const yAxis = d3.axisLeft()
        .scale(yScale)
        .ticks(5)
        .tickPadding(15)
        .tickSize(-innerWidth);

      const row = d => {
        d.Hrs = new Date(d.Hrs);
        d.Liq = +d.Liq;
        return d;
      };

        
        d3.csv('/static/js/liquidations/binance-' + selectedVar + '-XTZUSDT-liquidations.csv', row, data => {
            xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g5.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .8)
                .attr('r', 6)
                .style("fill", function(d) { return color(cValue(d));}) 
                .on("mouseover", function(d) {
                    tooltip.transition()
                .duration(200)
                .style("opacity", .9);
                    tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                    + ", " + yValue(d) + ")")
                .style("left", (d3.event.pageX + 5) + "px")
                .style("top", (d3.event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                    tooltip.transition()
                .duration(500)
                .style("opacity", 0);
                });

        var legend = svg5.selectAll(".legend")
        .data(color.domain())
        .enter().append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

    // draw legend colored rectangles
    legend.append("rect")
        .attr("x", width - 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", color);

    // draw legend text
    legend.append("text")
        .attr("x", width - 22)
        .attr("y", 9)
        .attr("dy", ".35em")
        .style("text-anchor", "end")
        .text(function(d) { return d;})

            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
    </script>

<br>
    binance BTCUSDT Liquidations
    <button id = "1d" onclick="update6('1d')"> 1 Day </button>
    <button id = "3d" onclick="update6('3d')">3 Days</button>
    <button id = "7d" onclick="update6('7d')">7 Days</button>
    <button id = "30d" onclick="update6('30d')">1 Month</button>
    <br>
    <svg id = "svg6" width="890" height="450"></svg>
    <script>

        const svg6 = d3.select("#svg6");

      function update6(selectedVar){
        svg6.selectAll("*").remove();

           const width = svg6.attr('width');
      const height = svg6.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      const g6 = svg6.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g6.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g6.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);

      const xScale = d3.scaleTime();
      const yScale = d3.scaleLinear();

      const xAxis = d3.axisBottom()
        .scale(xScale)
        .tickPadding(15)
        .tickSize(-innerHeight);

      const yAxis = d3.axisLeft()
        .scale(yScale)
        .ticks(5)
        .tickPadding(15)
        .tickSize(-innerWidth);

      const row = d => {
        d.Hrs = new Date(d.Hrs);
        d.Liq = +d.Liq;
        return d;
      };

        
        d3.csv('/static/js/liquidations/binance-' + selectedVar + '-BTCUSDT-liquidations.csv', row, data => {
            xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g6.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .8)
                .attr('r', 6)
                .style("fill", function(d) { return color(cValue(d));}) 
                .on("mouseover", function(d) {
                    tooltip.transition()
                .duration(200)
                .style("opacity", .9);
                    tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                    + ", " + yValue(d) + ")")
                .style("left", (d3.event.pageX + 5) + "px")
                .style("top", (d3.event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                    tooltip.transition()
                .duration(500)
                .style("opacity", 0);
                });

        var legend = svg6.selectAll(".legend")
        .data(color.domain())
        .enter().append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

    // draw legend colored rectangles
    legend.append("rect")
        .attr("x", width - 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", color);

    // draw legend text
    legend.append("text")
        .attr("x", width - 22)
        .attr("y", 9)
        .attr("dy", ".35em")
        .style("text-anchor", "end")
        .text(function(d) { return d;})

            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
    </script>

<br>
binance IOSTUSDT Liquidations
<button id = "1d" onclick="update7('1d')"> 1 Day </button>
<button id = "3d" onclick="update7('3d')">3 Days</button>
<button id = "7d" onclick="update7('7d')">7 Days</button>
<button id = "30d" onclick="update7('30d')">1 Month</button>
<br>
<svg id = "svg7" width="890" height="450"></svg>
<script>

    const svg7 = d3.select("#svg7");

  function update7(selectedVar){
    svg7.selectAll("*").remove();

       const width = svg7.attr('width');
  const height = svg7.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g7 = svg7.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g7.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g7.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-IOSTUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g7.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg7.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }
</script>

<br>
    binance BNBUSDT Liquidations
    <button id = "1d" onclick="update8('1d')"> 1 Day </button>
    <button id = "3d" onclick="update8('3d')">3 Days</button>
    <button id = "7d" onclick="update8('7d')">7 Days</button>
    <button id = "30d" onclick="update8('30d')">1 Month</button>
    <br>
    <svg id = "svg8" width="890" height="450"></svg>
    <script>

        const svg8 = d3.select("#svg8");

      function update8(selectedVar){
        svg8.selectAll("*").remove();

           const width = svg8.attr('width');
      const height = svg8.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      const g8= svg8.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g8.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g8.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);

      const xScale = d3.scaleTime();
      const yScale = d3.scaleLinear();

      const xAxis = d3.axisBottom()
        .scale(xScale)
        .tickPadding(15)
        .tickSize(-innerHeight);

      const yAxis = d3.axisLeft()
        .scale(yScale)
        .ticks(5)
        .tickPadding(15)
        .tickSize(-innerWidth);

      const row = d => {
        d.Hrs = new Date(d.Hrs);
        d.Liq = +d.Liq;
        return d;
      };

        
        d3.csv('/static/js/liquidations/binance-' + selectedVar + '-BNBUSDT-liquidations.csv', row, data => {
            xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g8.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .8)
                .attr('r', 6)
                .style("fill", function(d) { return color(cValue(d));}) 
                .on("mouseover", function(d) {
                    tooltip.transition()
                .duration(200)
                .style("opacity", .9);
                    tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                    + ", " + yValue(d) + ")")
                .style("left", (d3.event.pageX + 5) + "px")
                .style("top", (d3.event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                    tooltip.transition()
                .duration(500)
                .style("opacity", 0);
                });

        var legend = svg8.selectAll(".legend")
        .data(color.domain())
        .enter().append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

    // draw legend colored rectangles
    legend.append("rect")
        .attr("x", width - 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", color);

    // draw legend text
    legend.append("text")
        .attr("x", width - 22)
        .attr("y", 9)
        .attr("dy", ".35em")
        .style("text-anchor", "end")
        .text(function(d) { return d;})

            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
    </script>

<br>
binance EOSUSDT Liquidations
<button id = "1d" onclick="update9('1d')"> 1 Day </button>
<button id = "3d" onclick="update9('3d')">3 Days</button>
<button id = "7d" onclick="update9('7d')">7 Days</button>
<button id = "30d" onclick="update9('30d')">1 Month</button>
<br>
<svg id = "svg9" width="890" height="450"></svg>
<script>

    const svg9 = d3.select("#svg9");

  function update9(selectedVar){
    svg9.selectAll("*").remove();

       const width = svg9.attr('width');
  const height = svg9.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g9 = svg9.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g9.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g9.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-EOSUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g9.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg9.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }
</script>

<br>
    binance ZECUSDT Liquidations
    <button id = "1d" onclick="update10('1d')"> 1 Day </button>
    <button id = "3d" onclick="update10('3d')">3 Days</button>
    <button id = "7d" onclick="update10('7d')">7 Days</button>
    <button id = "30d" onclick="update10('30d')">1 Month</button>
    <br>
    <svg id = "svg10" width="890" height="450"></svg>
    <script>

        const svg10 = d3.select("#svg10");

      function update10(selectedVar){
        svg10.selectAll("*").remove();

           const width = svg10.attr('width');
      const height = svg10.attr('height');
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      const g10 = svg10.append('g')
          .attr('transform', `translate(${margin.left},${margin.top})`);
      const xAxisG = g10.append('g')
          .attr('transform', `translate(0, ${innerHeight})`);
      const yAxisG = g10.append('g');

      xAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', innerWidth / 2)
          .attr('y', 100)
          .text(xLabel);

      yAxisG.append('text')
          .attr('class', 'axis-label')
          .attr('x', -innerHeight / 2)
          .attr('y', -60)
          .attr('transform', `rotate(-90)`)
          .style('text-anchor', 'middle')
          .text(yLabel);

      const xScale = d3.scaleTime();
      const yScale = d3.scaleLinear();

      const xAxis = d3.axisBottom()
        .scale(xScale)
        .tickPadding(15)
        .tickSize(-innerHeight);

      const yAxis = d3.axisLeft()
        .scale(yScale)
        .ticks(5)
        .tickPadding(15)
        .tickSize(-innerWidth);

      const row = d => {
        d.Hrs = new Date(d.Hrs);
        d.Liq = +d.Liq;
        return d;
      };

        
        d3.csv('/static/js/liquidations/binance-' + selectedVar + '-ZECUSDT-liquidations.csv', row, data => {
            xScale
            .domain(d3.extent(data, xValue))
            .range([0, innerWidth])
            .nice();

            yScale
            .domain(d3.extent(data, yValue))
            .range([innerHeight, 0])
            .nice();

            g10.selectAll('circle').data(data)
            .enter().append('circle')
                .attr('cx', d => xScale(xValue(d)))
                .attr('cy', d => yScale(yValue(d)))
                .attr('fill-opacity', .8)
                .attr('r', 6)
                .style("fill", function(d) { return color(cValue(d));}) 
                .on("mouseover", function(d) {
                    tooltip.transition()
                .duration(200)
                .style("opacity", .9);
                    tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                    + ", " + yValue(d) + ")")
                .style("left", (d3.event.pageX + 5) + "px")
                .style("top", (d3.event.pageY - 28) + "px");
                    })
                    .on("mouseout", function(d) {
                    tooltip.transition()
                .duration(500)
                .style("opacity", 0);
                });

        var legend = svg10.selectAll(".legend")
        .data(color.domain())
        .enter().append("g")
        .attr("class", "legend")
        .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

    // draw legend colored rectangles
    legend.append("rect")
        .attr("x", width - 18)
        .attr("width", 18)
        .attr("height", 18)
        .style("fill", color);

    // draw legend text
    legend.append("text")
        .attr("x", width - 22)
        .attr("y", 9)
        .attr("dy", ".35em")
        .style("text-anchor", "end")
        .text(function(d) { return d;})

            xAxisG.call(xAxis);
            yAxisG.call(yAxis);
        });
      }
    </script>

<br>
binance ADAUSDT Liquidations
<button id = "1d" onclick="update11('1d')"> 1 Day </button>
<button id = "3d" onclick="update11('3d')">3 Days</button>
<button id = "7d" onclick="update11('7d')">7 Days</button>
<button id = "30d" onclick="update11('30d')">1 Month</button>
<br>
<svg id = "svg11" width="890" height="450"></svg>
<script>

    const svg11 = d3.select("#svg11");

  function update11(selectedVar){
    svg11.selectAll("*").remove();

       const width = svg11.attr('width');
  const height = svg11.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g11 = svg11.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g11.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g11.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-ADAUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g11.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg11.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }
  update('3d')
  update2('3d')
  update3('3d')
  update4('3d')
  update5('3d')
  update6('3d')
  update7('3d')
  update8('3d')
  update9('3d')
  update10('3d')
  update11('3d')

</script>

<br>
binance IOTAUSDT Liquidations
<button id = "1d" onclick="update12('1d')"> 1 Day </button>
<button id = "3d" onclick="update12('3d')">3 Days</button>
<button id = "7d" onclick="update12('7d')">7 Days</button>
<button id = "30d" onclick="update12('30d')">1 Month</button>
<br>
<svg id = "svg12" width="890" height="450"></svg>
<script>

    const svg12 = d3.select("#svg12");

  function update12(selectedVar){
    svg12.selectAll("*").remove();

       const width = svg12.attr('width');
  const height = svg12.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g12 = svg12.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g12.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g12.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-IOTAUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g12.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg12.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }
</script>

<br>
binance DASHUSDT Liquidations
<button id = "1d" onclick="update13('1d')"> 1 Day </button>
<button id = "3d" onclick="update13('3d')">3 Days</button>
<button id = "7d" onclick="update13('7d')">7 Days</button>
<button id = "30d" onclick="update13('30d')">1 Month</button>
<br>
<svg id = "svg13" width="890" height="450"></svg>
<script>

    const svg13 = d3.select("#svg13");

  function update13(selectedVar){
    svg13.selectAll("*").remove();

       const width = svg13.attr('width');
  const height = svg13.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g13 = svg13.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g13.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g13.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-DASHUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g13.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg13.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }

</script>


<br>
binance ATOMUSDT Liquidations
<button id = "1d" onclick="update14('1d')"> 1 Day </button>
<button id = "3d" onclick="update14('3d')">3 Days</button>
<button id = "7d" onclick="update14('7d')">7 Days</button>
<button id = "30d" onclick="update14('30d')">1 Month</button>
<br>
<svg id = "svg14" width="890" height="450"></svg>
<script>

    const svg14 = d3.select("#svg14");

  function update14(selectedVar){
    svg14.selectAll("*").remove();

       const width = svg14.attr('width');
  const height = svg14.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g14 = svg14.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g14.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g14.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-ATOMUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g14.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg14.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }

</script>


<br>
binance XRPUSDT Liquidations
<button id = "1d" onclick="update15('1d')"> 1 Day </button>
<button id = "3d" onclick="update15('3d')">3 Days</button>
<button id = "7d" onclick="update15('7d')">7 Days</button>
<button id = "30d" onclick="update15('30d')">1 Month</button>
<br>
<svg id = "svg15" width="890" height="450"></svg>
<script>

    const svg15 = d3.select("#svg15");

  function update15(selectedVar){
    svg15.selectAll("*").remove();

       const width = svg15.attr('width');
  const height = svg15.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g15 = svg15.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g15.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g15.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-XRPUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g15.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg15.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }

</script>


<br>
binance XLMUSDT Liquidations
<button id = "1d" onclick="update16('1d')"> 1 Day </button>
<button id = "3d" onclick="update16('3d')">3 Days</button>
<button id = "7d" onclick="update16('7d')">7 Days</button>
<button id = "30d" onclick="update16('30d')">1 Month</button>
<br>
<svg id = "svg16" width="890" height="450"></svg>
<script>

    const svg16 = d3.select("#svg16");

  function update16(selectedVar){
    svg16.selectAll("*").remove();

       const width = svg16.attr('width');
  const height = svg16.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g16 = svg16.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g16.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g16.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-XLMUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g16.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg16.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }

</script>


<br>
binance LTCUSDT Liquidations
<button id = "1d" onclick="update17('1d')"> 1 Day </button>
<button id = "3d" onclick="update17('3d')">3 Days</button>
<button id = "7d" onclick="update17('7d')">7 Days</button>
<button id = "30d" onclick="update17('30d')">1 Month</button>
<br>
<svg id = "svg17" width="890" height="450"></svg>
<script>

    const svg17 = d3.select("#svg17");

  function update17(selectedVar){
    svg17.selectAll("*").remove();

       const width = svg17.attr('width');
  const height = svg17.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g17 = svg17.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g17.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g17.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-LTCUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g17.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg17.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }

</script>


<br>
binance ETCUSDT Liquidations
<button id = "1d" onclick="update18('1d')"> 1 Day </button>
<button id = "3d" onclick="update18('3d')">3 Days</button>
<button id = "7d" onclick="update11('7d')">7 Days</button>
<button id = "30d" onclick="update18('30d')">1 Month</button>
<br>
<svg id = "svg18" width="890" height="450"></svg>
<script>

    const svg18 = d3.select("#svg18");

  function update18(selectedVar){
    svg18.selectAll("*").remove();

       const width = svg18.attr('width');
  const height = svg11.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g18 = svg18.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g18.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g18.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-ETCUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g18.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg18.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }

</script>

<br>
binance TRXUSDT Liquidations
<button id = "1d" onclick="update19('1d')"> 1 Day </button>
<button id = "3d" onclick="update19('3d')">3 Days</button>
<button id = "7d" onclick="update19('7d')">7 Days</button>
<button id = "30d" onclick="update19('30d')">1 Month</button>
<br>
<svg id = "svg19" width="890" height="450"></svg>
<script>

    const svg19 = d3.select("#svg19");

  function update19(selectedVar){
    svg19.selectAll("*").remove();

       const width = svg19.attr('width');
  const height = svg19.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g19 = svg19.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g19.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g19.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-TRXUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g19.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg19.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }
</script>

<br>
binance NEOUSDT Liquidations
<button id = "1d" onclick="update21('1d')"> 1 Day </button>
<button id = "3d" onclick="update21('3d')">3 Days</button>
<button id = "7d" onclick="update21('7d')">7 Days</button>
<button id = "30d" onclick="update21('30d')">1 Month</button>
<br>
<svg id = "svg21" width="890" height="450"></svg>
<script>

    const svg21 = d3.select("#svg21");

  function update21(selectedVar){
    svg21.selectAll("*").remove();

       const width = svg21.attr('width');
  const height = svg21.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g21 = svg21.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g21.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g21.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-NEOUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g21.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg21.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }
  update12('3d')
  update13('3d')
  update14('3d')
  update15('3d')
  update16('3d')
  update17('3d')
  update18('3d')
  update19('3d')
  update21('3d')

</script>

<br>
binance QTUMUSDT Liquidations
<button id = "1d" onclick="update22('1d')"> 1 Day </button>
<button id = "3d" onclick="update22('3d')">3 Days</button>
<button id = "7d" onclick="update22('7d')">7 Days</button>
<button id = "30d" onclick="update22('30d')">1 Month</button>
<br>
<svg id = "svg22" width="890" height="450"></svg>
<script>

    const svg22 = d3.select("#svg22");

  function update22(selectedVar){
    svg22.selectAll("*").remove();

       const width = svg22.attr('width');
  const height = svg22.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g22 = svg22.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g22.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g22.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-QTUMUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g22.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg21.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }


</script>

<br>
binance ONTUSDT Liquidations
<button id = "1d" onclick="update23('1d')"> 1 Day </button>
<button id = "3d" onclick="update23('3d')">3 Days</button>
<button id = "7d" onclick="update23('7d')">7 Days</button>
<button id = "30d" onclick="update23('30d')">1 Month</button>
<br>
<svg id = "svg23" width="890" height="450"></svg>
<script>

    const svg23 = d3.select("#svg23");

  function update23(selectedVar){
    svg23.selectAll("*").remove();

       const width = svg21.attr('width');
  const height = svg21.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g23 = svg23.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g23.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g23.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-ONTUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g23.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg23.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }

</script>

<br>
binance BATUSDT Liquidations
<button id = "1d" onclick="update24('1d')"> 1 Day </button>
<button id = "3d" onclick="update24('3d')">3 Days</button>
<button id = "7d" onclick="update24('7d')">7 Days</button>
<button id = "30d" onclick="update24('30d')">1 Month</button>
<br>
<svg id = "svg24" width="890" height="450"></svg>
<script>

    const svg24 = d3.select("#svg24");

  function update24(selectedVar){
    svg24.selectAll("*").remove();

       const width = svg24.attr('width');
  const height = svg24.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g24 = svg24.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g24.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g24.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-BATUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g24.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg24.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }

</script>

<br>
binance VETUSDT Liquidations
<button id = "1d" onclick="update25('1d')"> 1 Day </button>
<button id = "3d" onclick="update25('3d')">3 Days</button>
<button id = "7d" onclick="update25('7d')">7 Days</button>
<button id = "30d" onclick="update25('30d')">1 Month</button>
<br>
<svg id = "svg25" width="890" height="450"></svg>
<script>

    const svg25 = d3.select("#svg25");

  function update25(selectedVar){
    svg25.selectAll("*").remove();

       const width = svg25.attr('width');
  const height = svg25.attr('height');
  const innerWidth = width - margin.left - margin.right;
  const innerHeight = height - margin.top - margin.bottom;

  const g25 = svg25.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
  const xAxisG = g25.append('g')
      .attr('transform', `translate(0, ${innerHeight})`);
  const yAxisG = g25.append('g');

  xAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', innerWidth / 2)
      .attr('y', 100)
      .text(xLabel);

  yAxisG.append('text')
      .attr('class', 'axis-label')
      .attr('x', -innerHeight / 2)
      .attr('y', -60)
      .attr('transform', `rotate(-90)`)
      .style('text-anchor', 'middle')
      .text(yLabel);

  const xScale = d3.scaleTime();
  const yScale = d3.scaleLinear();

  const xAxis = d3.axisBottom()
    .scale(xScale)
    .tickPadding(15)
    .tickSize(-innerHeight);

  const yAxis = d3.axisLeft()
    .scale(yScale)
    .ticks(5)
    .tickPadding(15)
    .tickSize(-innerWidth);

  const row = d => {
    d.Hrs = new Date(d.Hrs);
    d.Liq = +d.Liq;
    return d;
  };

    
    d3.csv('/static/js/liquidations/binance-' + selectedVar + '-VETUSDT-liquidations.csv', row, data => {
        xScale
        .domain(d3.extent(data, xValue))
        .range([0, innerWidth])
        .nice();

        yScale
        .domain(d3.extent(data, yValue))
        .range([innerHeight, 0])
        .nice();

        g25.selectAll('circle').data(data)
        .enter().append('circle')
            .attr('cx', d => xScale(xValue(d)))
            .attr('cy', d => yScale(yValue(d)))
            .attr('fill-opacity', .8)
            .attr('r', 6)
            .style("fill", function(d) { return color(cValue(d));}) 
            .on("mouseover", function(d) {
                tooltip.transition()
            .duration(200)
            .style("opacity", .9);
                tooltip.html(d["BuySell"] + "<br/> (" + xValue(d) 
                + ", " + yValue(d) + ")")
            .style("left", (d3.event.pageX + 5) + "px")
            .style("top", (d3.event.pageY - 28) + "px");
                })
                .on("mouseout", function(d) {
                tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            });

    var legend = svg25.selectAll(".legend")
    .data(color.domain())
    .enter().append("g")
    .attr("class", "legend")
    .attr("transform", function(d, i) { return "translate(0," + i * 20  + ")"; });

// draw legend colored rectangles
legend.append("rect")
    .attr("x", width - 18)
    .attr("width", 18)
    .attr("height", 18)
    .style("fill", color);

// draw legend text
legend.append("text")
    .attr("x", width - 22)
    .attr("y", 9)
    .attr("dy", ".35em")
    .style("text-anchor", "end")
    .text(function(d) { return d;})

        xAxisG.call(xAxis);
        yAxisG.call(yAxis);
    });
  }

  update22('3d')
  update23('3d')
  update24('3d')
  update25('3d')

</script>

  </body>
</html>